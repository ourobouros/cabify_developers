<!DOCTYPE html><html><head><meta charset="utf-8"><title>Cabify Public API</title><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"><style>@import url('https://fonts.googleapis.com/css?family=Roboto:400,700|Inconsolata|Raleway:200');.hljs-comment,.hljs-title{color:#8e908c}.hljs-variable,.hljs-attribute,.hljs-tag,.hljs-regexp,.ruby .hljs-constant,.xml .hljs-tag .hljs-title,.xml .hljs-pi,.xml .hljs-doctype,.html .hljs-doctype,.css .hljs-id,.css .hljs-class,.css .hljs-pseudo{color:#c82829}.hljs-number,.hljs-preprocessor,.hljs-pragma,.hljs-built_in,.hljs-literal,.hljs-params,.hljs-constant{color:#f5871f}.ruby .hljs-class .hljs-title,.css .hljs-rules .hljs-attribute{color:#eab700}.hljs-string,.hljs-value,.hljs-inheritance,.hljs-header,.ruby .hljs-symbol,.xml .hljs-cdata{color:#718c00}.css .hljs-hexcolor{color:#3e999f}.hljs-function,.python .hljs-decorator,.python .hljs-title,.ruby .hljs-function .hljs-title,.ruby .hljs-title .hljs-keyword,.perl .hljs-sub,.javascript .hljs-title,.coffeescript .hljs-title{color:#4271ae}.hljs-keyword,.javascript .hljs-function{color:#8959a8}.hljs{display:block;background:white;color:#4d4d4c;padding:.5em}.coffeescript .javascript,.javascript .xml,.tex .hljs-formula,.xml .javascript,.xml .vbscript,.xml .css,.xml .hljs-cdata{opacity:.5}.right .hljs-comment{color:#969896}.right .css .hljs-class,.right .css .hljs-id,.right .css .hljs-pseudo,.right .hljs-attribute,.right .hljs-regexp,.right .hljs-tag,.right .hljs-variable,.right .html .hljs-doctype,.right .ruby .hljs-constant,.right .xml .hljs-doctype,.right .xml .hljs-pi,.right .xml .hljs-tag .hljs-title{color:#c66}.right .hljs-built_in,.right .hljs-constant,.right .hljs-literal,.right .hljs-number,.right .hljs-params,.right .hljs-pragma,.right .hljs-preprocessor{color:#de935f}.right .css .hljs-rule .hljs-attribute,.right .ruby .hljs-class .hljs-title{color:#f0c674}.right .hljs-header,.right .hljs-inheritance,.right .hljs-name,.right .hljs-string,.right .hljs-value,.right .ruby .hljs-symbol,.right .xml .hljs-cdata{color:#b5bd68}.right .css .hljs-hexcolor,.right .hljs-title{color:#8abeb7}.right .coffeescript .hljs-title,.right .hljs-function,.right .javascript .hljs-title,.right .perl .hljs-sub,.right .python .hljs-decorator,.right .python .hljs-title,.right .ruby .hljs-function .hljs-title,.right .ruby .hljs-title .hljs-keyword{color:#81a2be}.right .hljs-keyword,.right .javascript .hljs-function{color:#b294bb}.right .hljs{display:block;overflow-x:auto;background:#1d1f21;color:#c5c8c6;padding:.5em;-webkit-text-size-adjust:none}.right .coffeescript .javascript,.right .javascript .xml,.right .tex .hljs-formula,.right .xml .css,.right .xml .hljs-cdata,.right .xml .javascript,.right .xml .vbscript{opacity:.5}body{color:#554;background:#fafaf9;font:400 14px / 1.6 "Avenir Next","Avenir","Frutiger","Segoe UI",Arial,sans-serif}header{margin-bottom:15px}h1,h2,h3,h4,h5{color:#554;margin:15px 0}h1 .permalink,h2 .permalink,h3 .permalink,h4 .permalink,h5 .permalink{margin-left:0;opacity:0;transition:opacity .25s ease;text-decoration:none;color:rgba(0,0,0,0.5)}h1:hover .permalink,h2:hover .permalink,h3:hover .permalink,h4:hover .permalink,h5:hover .permalink{opacity:1}.triple h1 .permalink,.triple h2 .permalink,.triple h3 .permalink,.triple h4 .permalink,.triple h5 .permalink{opacity:.15}.triple h1:hover .permalink,.triple h2:hover .permalink,.triple h3:hover .permalink,.triple h4:hover .permalink,.triple h5:hover .permalink{opacity:.15}h1{font:600 20px/60px "Avenir Next","Avenir","Frutiger","Segoe UI",Arial,sans-serif;font-size:36px}h2{font:600 20px/60px "Avenir Next","Avenir","Frutiger","Segoe UI",Arial,sans-serif;font-size:30px}h3{font-size:100%}h5{font-size:100%;font-weight:normal}p{margin:0 0 10px}p.choices{line-height:1.6}a{color:#1675A9;font-weight:500;text-decoration:underline}li p{margin:0}hr.split{border:0;height:1px;width:100%;padding-left:7.5px;margin:15px auto;background-image:linear-gradient(to right, rgba(85,85,68,0) 20%, rgba(85,85,68,0.2) 51.4%, rgba(250,250,249,0.2) 51.4%, rgba(250,250,249,0) 80%)}dl dt{float:left;width:130px;clear:left;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:700}dl dd{margin-left:150px}blockquote{color:rgba(85,85,68,0.5);font-size:15.5px;padding:10px 20px;margin:15px 0;border-left:5px solid #e8e8e8}blockquote p:last-child{margin-bottom:0}pre{background-color:#f5f5f5;padding:15px;border:1px solid #cfcfcf;border-radius:4px;overflow:auto}pre code{color:#554;background-color:transparent;padding:0;border:none}code{color:rgba(0,0,0,0.6);background-color:#eed;font-family:'Inconsolata',monospace;padding:1px 4px;border:none;border-radius:3px}ul,ol{padding-left:1.2em}table{border-collapse:collapse;border-spacing:0;margin-bottom:15px}table tr:nth-child(2n){background-color:#f5f5f3}table th,table td{padding:7.5px 15px;border:1px solid #e3e3dd}.text-muted{opacity:.5}.note,.warning{padding:.3em 1em;margin:1em 0;border-radius:2px;font-size:90%}.note h1,.warning h1,.note h2,.warning h2,.note h3,.warning h3,.note h4,.warning h4,.note h5,.warning h5,.note h6,.warning h6{font-family:600 .33333333px "Avenir Next","Avenir","Frutiger","Segoe UI",Arial,sans-serif;font-size:135%;font-weight:500}.note p,.warning p{margin:.5em 0}.note{color:#554;background-color:#eaf2f7;border-left:4px solid #2791d9}.note h1,.note h2,.note h3,.note h4,.note h5,.note h6{color:#3498db}.warning{color:#554;background-color:#f7ece9;border-left:4px solid #d62c1a}.warning h1,.warning h2,.warning h3,.warning h4,.warning h5,.warning h6{color:#d62c1a}header{margin-top:30px}nav{position:fixed;top:30px;bottom:0;overflow-y:auto}nav .resource-group{padding:0;background:transparent;border:none}nav .resource-group .heading{position:relative}nav .resource-group .heading .chevron{position:absolute;top:15px;right:15px;opacity:.5}nav .resource-group .heading a{display:block;color:#554;opacity:.7;margin:0;border:none;padding:0;color:rgba(85,85,68,0.7)}nav .resource-group .heading a:hover{text-decoration:none;background-color:bad-color}nav ul{list-style-type:none;padding-left:0}nav ul a{display:block;font-size:13px;color:#554;padding:10px 0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}nav ul a:hover{text-decoration:none;background-color:bad-color}nav ul>li{margin:0}nav ul>li:first-child{margin-top:-15px}nav ul>li:last-child{margin-bottom:-15px}nav ul ul a{padding-left:30px}nav ul ul li{margin:0}nav ul ul li:first-child{margin-top:0}nav ul ul li:last-child{margin-bottom:0}nav>div>div>ul>li:first-child>a{border-top:none}.preload *{transition:none !important}.pull-left{float:left}.pull-right{float:right}.badge{display:inline-block;float:left;width:20px;height:20px;text-align:center;line-height:20px;font-size:12px;color:#000;background-color:transparent;border-radius:10px;margin:-2px 5px 0 0}.badge.get{color:white;background-color:#3498db}.badge.head{color:white;background-color:#3498db}.badge.options{color:white;background-color:#3498db}.badge.put{color:white;background-color:#f39c12}.badge.patch{color:white;background-color:#f39c12}.badge.post{color:white;background-color:#18bc9c}.badge.delete{color:white;background-color:#e74c3c}.collapse-button{float:right}.collapse-button span{display:block;color:#443;font-weight:500;text-decoration:underline}.collapse-button .close{display:none;cursor:pointer}.collapse-button .open{cursor:pointer}.collapse-button.show .close{display:block}.collapse-button.show .open{display:none}.collapse-content{max-height:0;overflow:hidden;transition:max-height .3s ease-in-out}nav{width:220px}.container{max-width:940px;margin-left:auto;margin-right:auto}.container .row .content{margin-left:250px;width:690px}.container .row:after{content:'';display:block;clear:both}.container-fluid nav{width:22%}.container-fluid .row .content{margin-left:24%}.container-fluid.triple nav{width:16.5%;padding-right:1px}.container-fluid.triple .row .content{position:relative;margin-left:16.5%;padding-left:30px}.middle:before,.middle:after{content:'';display:table}.middle:after{clear:both}.middle{box-sizing:border-box;width:51.5%;padding-right:15px}.right{box-sizing:border-box;float:right;width:48.5%;padding-left:15px}.right a{color:#1675A9}.right h1,.right h2,.right h3,.right h4,.right h5,.right p,.right div{color:#fafaf9}.right pre{background-color:#1d1f21;border:1px solid #1d1f21}.right pre code{color:#c5c8c6}.right .description{margin-top:15px}.triple .resource-heading{font-size:125%}.definition{margin-top:15px;margin-bottom:15px;display:-webkit-flex;display:flex;font-size:0}.definition>span{font:400 14px / 1.6 "Avenir Next","Avenir","Frutiger","Segoe UI",Arial,sans-serif}.definition .method{padding:2px 10px;border-radius:4px 0 0 4px;color:white;font-weight:500}.definition .method.get{background-color:#3498db}.definition .method.head{background-color:#3498db}.definition .method.options{background-color:#3498db}.definition .method.post{background-color:#18bc9c}.definition .method.put{background-color:#f39c12}.definition .method.patch{background-color:#f39c12}.definition .method.delete{background-color:#e74c3c}.definition .uri{word-break:break-all;padding:2px 10px;word-wrap:break-word;background-color:#eed;border-radius:0 4px 4px 0;font-family:'Inconsolata',monospace}.definition .hostname{opacity:.5}.example-names{background-color:#eee;padding:15px;border-radius:4px}.example-names .tab-button{cursor:pointer;color:#554;border:1px solid #ddd;padding:7.5px;margin-left:15px}.example-names .tab-button.active{background-color:#d5d5d5}.right .example-names{background-color:#444}.right .example-names .tab-button{color:#fafaf9;border:1px solid #666;border-radius:4px}.right .example-names .tab-button.active{background-color:#5e5e5e}#nav-background{position:fixed;left:0;top:0;bottom:0;width:16.5%;padding-right:18px;background-color:#fbfbfb;border-right:1px solid #f0f0f0;z-index:-1}#right-panel-background{position:absolute;right:-15px;top:-15px;bottom:-15px;width:48.6%;background-color:#333;z-index:-1}@media (max-width:1200px){nav{width:198px}.container{max-width:840px}.container .row .content{margin-left:230px;width:600px}}@media (max-width:992px){nav{width:169.4px}.container{max-width:720px}.container .row .content{margin-left:200px;width:520px}}@media (max-width:768px){nav{display:none}.container{width:100%;max-width:none}.container .row .content,.container-fluid .row .content,.container-fluid.triple .row .content{margin-left:auto;margin-right:auto;width:100%}#nav-background{display:none}#right-panel-background{width:48.6%}.action h4.action-heading .name{display:none}}.back-to-top{position:fixed;z-index:1;bottom:0;right:24px;padding:4px 8px;color:rgba(85,85,68,0.5);background-color:transparent;text-decoration:none !important;border-top:1px solid #e2e2e2;border-left:1px solid #e2e2e2;border-right:1px solid #e2e2e2;border-top-left-radius:3px;border-top-right-radius:3px}.resource-group{padding:0;margin-bottom:40px;background-color:white;border:1px solid #e2e2e2;border-radius:4px}.resource-group>*:not(.resource){margin-left:15px;margin-right:15px}.resource-group>p:first-of-type{margin-top:15px}.resource-group .resource-heading{font:600 16px / 3 "Avenir Next","Avenir","Frutiger","Segoe UI",Arial,sans-serif;height:40px;padding:0 15px;margin:0;color:white;font-weight:500}.resource-group .resource-heading+.action>.action-heading{padding-top:40px;margin-top:-41px}.resource-group h2.group-heading,.resource-group .heading a{padding:0 15px;margin:0;background-color:transparent;border-bottom:1px solid #e2e2e2;border-top-left-radius:4px;border-top-right-radius:4px;font:600 20px/60px "Avenir Next","Avenir","Frutiger","Segoe UI",Arial,sans-serif;height:60px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.triple .content .resource-group{padding:0;border:none}.triple .content .resource-group h2.group-heading,.triple .content .resource-group .heading a{margin:0 0 15px 0;border:1px solid #e2e2e2}nav .resource-group{margin-botom:40px}nav .resource-group a{text-decoration:none}nav .resource-group .chevron{display:none}nav .resource-group .heading a{margin-bottom:0;height:auto;text-transform:uppercase;text-shadow:0 1px 0 white;font:600 12px/150% "Avenir Next","Avenir","Frutiger","Segoe UI",Arial,sans-serif}nav .resource-group .collapse-content{padding:0}.action{margin-bottom:15px;padding:0 15px 0 15px}.action h3.resource-heading+.action{padding-top:40px;background:red}.action h4.action-heading{padding:15px 15px 0 15px;margin:-1px -16px 16px -16px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;height:40px}.action h4.action-heading .name{float:right;font-weight:normal;line-height:2em;color:rgba(255,255,255,0.6)}.action h4.action-heading .method{padding:3px 10px 2px 10px;line-height:2em;border-radius:4px 0 0 4px;background:rgba(255,255,255,0.7);text-decoration:none;font-weight:600;font-size:13px}.action h4.action-heading .method.get{color:#217dbb}.action h4.action-heading .method.head{color:#217dbb}.action h4.action-heading .method.options{color:#217dbb}.action h4.action-heading .method.put{color:#c87f0a}.action h4.action-heading .method.patch{color:#c87f0a}.action h4.action-heading .method.post{color:#128f76}.action h4.action-heading .method.delete{color:#d62c1a}.action h4.action-heading code{color:rgba(255,255,255,0.6);background-color:rgba(0,0,0,0.4);border:none;font-weight:normal;line-height:2em;border-radius:0 4px 4px 0;padding:4px 15px}.action dl.inner{padding-bottom:2px}.action .title{border-top:1px solid #F2F2F2;margin:0 -15px -1px -15px;padding:15px;position:relative}.action .title code{font-weight:normal}.action .title .collapse-button{position:absolute;top:0;left:0;right:0;text-align:right;float:none;height:50px;line-height:50px}.action .title .collapse-button span{position:relative;width:100%;height:100%;padding-right:15px;box-sizing:border-box;-moz-box-sizing:border-box}.action .title .collapse-button span.open:hover{background:rgba(0,0,0,0.02)}.action .title .collapse-button.show span.open{display:none}.action h4.action-heading{border:solid transparent 1px}.action.get{border-color:#2791d9}.action.get h4.action-heading{color:white;background:#3498db;border-left-color:#2791d9;border-right-color:#2791d9}.action.head{border-color:#2489cc}.action.head h4.action-heading{color:white;background:#3498db;border-left-color:#2489cc;border-right-color:#2489cc}.action.options{border-color:#2489cc}.action.options h4.action-heading{color:white;background:#3498db;border-left-color:#2489cc;border-right-color:#2489cc}.action.post h4.action-heading{color:white;background:#18bc9c;border-left-color:#16ae91;border-right-color:#16ae91}.action.put h4.action-heading{color:white;background:#f39c12;border-left-color:#ea940c;border-right-color:#ea940c}.action.patch h4.action-heading{color:white;background:#f39c12;border-left-color:#db8b0b;border-right-color:#db8b0b}.action.delete h4.action-heading{color:white;background:#e74c3c;border-left-color:#e53f2e;border-right-color:#e53f2e}</style></head><body class="preload"><a href="#top" class="text-muted back-to-top"><i class="fa fa-toggle-up"></i>&nbsp;Back to top</a><div class="container"><div class="row"><nav><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#choosing-the-language">Choosing the language</a></div><div class="collapse-content"><ul><li><a href="#header-the-accept-language-header">The Accept-Language header</a></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#browser-app-authentication">Browser App Authentication</a></div><div class="collapse-content"><ul><li><a href="#header-oauth-implicit-flow">OAuth Implicit flow</a></li><li><a href="#header-request-a-token-[get-oauth-authorizations-new?{client_id}{&amp;redirect_uri}{&amp;response_type}{&amp;scope}{&amp;state}]">Request a token [GET oauth/authorizations/new?{client_id}{&redirect_uri}{&response_type}{&scope}{&state}]</a></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#server-app-authentication">Server App Authentication</a></div><div class="collapse-content"><ul><li><a href="#header-oauth-authorization-code-flow">OAuth Authorization Code flow</a></li><li><a href="#header-request-an-authorization-code-[get-auth-authorizations-new?{client_id}{&amp;response_type}]">Request an authorization code [GET auth/authorizations/new?{client_id}{&response_type}]</a></li><li><a href="#server-app-authentication-get-an-authorization-token-post"><span class="badge post"><i class="fa fa-plus"></i></span>Get an authorization token</a></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#users">Users</a></div><div class="collapse-content"><ul><li><a href="#users-users-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Get User Information</a></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#estimates">Estimates</a></div><div class="collapse-content"><ul><li><a href="#estimates-estimate-journeys-post"><span class="badge post"><i class="fa fa-plus"></i></span>Get Estimates</a></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#bookings">Bookings</a></div><div class="collapse-content"><ul><li><a href="#bookings-make-a-booking-post"><span class="badge post"><i class="fa fa-plus"></i></span>Make a booking</a></li><li><a href="#bookings-retrieve-booking-information-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Retrieve booking information</a></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#booking-state">Booking State</a></div><div class="collapse-content"><ul><li><a href="#booking-state-cancel-booking-post"><span class="badge post"><i class="fa fa-plus"></i></span>Cancel booking</a></li><li><a href="#booking-state-check-booking-state-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Check booking state</a></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#webhooks">Webhooks</a></div><div class="collapse-content"><ul><li><a href="#header-booking-status-updates">Booking status updates</a></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#mobile-deeplink">Mobile Deeplink</a></div><div class="collapse-content"><ul><li><a href="#header-introduction">Introduction</a></li><li><a href="#mobile-deeplink-start-asap-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Start ASAP</a></li><li><a href="#mobile-deeplink-start-reservation-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Start Reservation</a></li><li><a href="#mobile-deeplink-open-active-journey-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Open Active Journey</a></li><li><a href="#mobile-deeplink-open-a-reservation-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Open a Reservation</a></li><li><a href="#mobile-deeplink-open-reserve-screen-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Open Reserve Screen</a></li><li><a href="#mobile-deeplink-current-reservations-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Current Reservations</a></li><li><a href="#mobile-deeplink-previous-journeys-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Previous journeys</a></li><li><a href="#mobile-deeplink-previous-journey-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Previous Journey</a></li><li><a href="#mobile-deeplink-promotions-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Promotions</a></li><li><a href="#mobile-deeplink-apply-promocode-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Apply Promocode</a></li><li><a href="#mobile-deeplink-locations-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Locations</a></li><li><a href="#mobile-deeplink-location-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Location</a></li><li><a href="#mobile-deeplink-preferences-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Preferences</a></li><li><a href="#mobile-deeplink-payment-methods-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Payment Methods</a></li><li><a href="#mobile-deeplink-profile-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Profile</a></li><li><a href="#mobile-deeplink-help-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Help</a></li><li><a href="#mobile-deeplink-pricing-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Pricing</a></li><li><a href="#mobile-deeplink-invite-friends-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Invite friends</a></li></ul></div></div></nav><div class="content"><header><h1 id="top">Cabify Public API</h1></header><p>This is the public API offered by Cabify to 3rd parties for integration with our services. If you want to integrate the Cabify API in your service you can email to <a href="mailto:dev.api@cabify.com">dev.api@cabify.com</a> telling us a little about your application.</p>
<section id="choosing-the-language" class="resource-group"><h2 class="group-heading">Choosing the language <a href="#choosing-the-language" class="permalink">&para;</a></h2><h3 id="header-the-accept-language-header">The Accept-Language header <a class="permalink" href="#header-the-accept-language-header" aria-hidden="true">¶</a></h3>
<p>Response values that are available in multiple languages are provided in the language of the Cabify user owning the API key.</p>
<p>It is possible to specify another language by using the standard HTTP header <code>Accept-Language</code>. For instance:</p>
<p>Accept-Language: en</p>
<p>Currently accepted language codes are:</p>
<ul>
<li>
<p><code>en</code>: English (international)</p>
</li>
<li>
<p><code>es</code>: Spanish (international)</p>
<ul>
<li><code>es-ES</code>: Spanish / Spain</li>
</ul>
</li>
<li>
<p><code>ca</code>: Catalan</p>
</li>
<li>
<p><code>pr</code>: Portuguese (international)</p>
<ul>
<li><code>pt-BR</code>: Portuguese / Brasil</li>
</ul>
</li>
</ul>
<p><strong>Note</strong> that this header will be processed by all API endpoints although it will not be shown.</p>
</section><section id="browser-app-authentication" class="resource-group"><h2 class="group-heading">Browser App Authentication <a href="#browser-app-authentication" class="permalink">&para;</a></h2><p>Authentication to the Cabify API uses OAuth. Before using the API, a client application must be created by Cabify.</p>
<h2 id="header-oauth-implicit-flow">OAuth Implicit flow <a class="permalink" href="#header-oauth-implicit-flow" aria-hidden="true">¶</a></h2>
<p>This authentication method is suitable for Javascript-only applications. Technical details are provided <a href="https://tools.ietf.org/html/rfc6749#page-31">by the oauth rfc</a>.</p>
<h3 id="header-request-a-token-[get-oauth-authorizations-new?{client_id}{&amp;redirect_uri}{&amp;response_type}{&amp;scope}{&amp;state}]">Request a token [GET oauth/authorizations/new?{client_id}{&amp;redirect_uri}{&amp;response_type}{&amp;scope}{&amp;state}] <a class="permalink" href="#header-request-a-token-[get-oauth-authorizations-new?{client_id}{&amp;redirect_uri}{&amp;response_type}{&amp;scope}{&amp;state}]" aria-hidden="true">¶</a></h3>
<p>⚠️ This is not an API call, the url must be displayed by the browser.</p>
<p>To get a token, the client application must redirect the user to this url, where it will be requested to authenticate (if needed) and to grant access to the requesting application.</p>
<p>See also the <a href="https://tools.ietf.org/html/rfc6749#section-4.2.1">Oauth Implicit Grant Authorization Request</a></p>
<p>On successful authentication, the <code>redirect_uri</code> will be called with the token details in the URL fragment. See also the <a href="https://tools.ietf.org/html/rfc6749#section-4.2.2">Oauth Implicit Grant Authorization Response</a></p>
<ul>
<li>
<p>Request (text/html)</p>
<ul>
<li>Parameters
<ul>
<li>client_id: <code>0987654321abcdef0987654321abcdef</code> (string, required) - the unique id issued by Cabify for the client application.</li>
<li>response_type: <code>token</code> (string, required) - <em>MUST</em> have the value <code>token</code></li>
<li>redirect_uri: <code>https://example.com/foo</code> - The URI to redirect after authorization. Must be under the URI provided for the client application.</li>
<li>scope: <code>public_api</code> (string, optional) - The authentication scope. It will default to the value configured for the client application.</li>
<li>state: <code>Anything</code> (string, optional) - Any value can be provided and it will be included in the redirection.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Response 200 (text/html)
If the user needs to perform any action to grant access to the application (including authorizing on Cabify), an html page will be displayed.</p>
</li>
</ul>
</section><section id="server-app-authentication" class="resource-group"><h2 class="group-heading">Server App Authentication <a href="#server-app-authentication" class="permalink">&para;</a></h2><p>Authentication to the Cabify API uses OAuth. Before using the API, a client application must be created by Cabify.</p>
<h2 id="header-oauth-authorization-code-flow">OAuth Authorization Code flow <a class="permalink" href="#header-oauth-authorization-code-flow" aria-hidden="true">¶</a></h2>
<p>This authentication method is suitable for applications with a backend
component.</p>
<h3 id="header-request-an-authorization-code-[get-auth-authorizations-new?{client_id}{&amp;response_type}]">Request an authorization code [GET auth/authorizations/new?{client_id}{&amp;response_type}] <a class="permalink" href="#header-request-an-authorization-code-[get-auth-authorizations-new?{client_id}{&amp;response_type}]" aria-hidden="true">¶</a></h3>
<p>⚠️ This is not an API call, the url must be displayed by the browser.</p>
<p>To get a token, the client application must redirect the user to this url, where it will be requested to authenticate.</p>
<p>On successful authentication, the callback url configured in the Oauth
Application will be called with the authentication code in the URL
fragment. (For example,
<a href="https://your-web-app.com/oauth/cabify/callback?code=1234">https://your-web-app.com/oauth/cabify/callback?code=1234</a>)</p>
<ul>
<li>
<p>Request (text/html)</p>
<ul>
<li>Parameters
<ul>
<li>client_id: <code>0987654321abcdef0987654321abcdef</code> (string, required) - the unique id issued by Cabify for the client application.</li>
<li>response_type: <code>code</code> (string, required) - <em>MUST</em> have the value <code>code</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Response 200 (text/html)
If the user needs to perform any action to grant access to the application (including authorizing on Cabify), an html page will be displayed.</p>
</li>
</ul>
<div id="server-app-authentication-get-an-authorization-token" class="resource"><h3 class="resource-heading">Get an authorization token <a href="#server-app-authentication-get-an-authorization-token" class="permalink">&nbsp;&para;</a></h3><div id="server-app-authentication-get-an-authorization-token-post" class="action post"><h4 class="action-heading"><div class="name">Get an authorization token</div><a href="#server-app-authentication-get-an-authorization-token-post" class="method post">POST</a><code class="uri">/auth/api/authorization</code></h4><p>With the authorization code that we got in the previous step, we can now
perform a request to get the final authorization token that we need in
order to authenticate an user.</p>
<h4>Example URI</h4><div class="definition"><span class="method post">POST</span>&nbsp;<span class="uri"><span class="hostname"></span>/auth/api/authorization</span></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">grant_type: `authorization_code` (string, required) - *MUST* have the value `authorization_code`</span>": <span class="hljs-value"><span class="hljs-string">"Hello, world!"</span></span>,
  "<span class="hljs-attribute">client_id</span>": <span class="hljs-value"><span class="hljs-string">"0987654321abcdef0987654321abcdef"</span></span>,
  "<span class="hljs-attribute">client_secret</span>": <span class="hljs-value"><span class="hljs-string">"0987654321abcdef0987654321abcdef"</span></span>,
  "<span class="hljs-attribute">code</span>": <span class="hljs-value"><span class="hljs-string">"0987654321abcdef0987654321abcdef"</span>
</span>}</code></pre><div style="height: 1px;"></div><h5>Schema</h5><pre><code>{
  "<span class="hljs-attribute">$schema</span>": <span class="hljs-value"><span class="hljs-string">"http://json-schema.org/draft-04/schema#"</span></span>,
  "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
  "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">grant_type: `authorization_code` (string, required) - *MUST* have the value `authorization_code`</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span>
    </span>}</span>,
    "<span class="hljs-attribute">client_id</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"the unique id issued by Cabify for the client application."</span>
    </span>}</span>,
    "<span class="hljs-attribute">client_secret</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"the unique secret issued by Cabify for the client application."</span>
    </span>}</span>,
    "<span class="hljs-attribute">code</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"the authorization code we got in the previous step."</span>
    </span>}
  </span>}</span>,
  "<span class="hljs-attribute">required</span>": <span class="hljs-value">[
    <span class="hljs-string">"client_id"</span>,
    <span class="hljs-string">"client_secret"</span>,
    <span class="hljs-string">"code"</span>
  ]
</span>}</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">token_type</span>": <span class="hljs-value"><span class="hljs-string">"Bearer"</span></span>,
  "<span class="hljs-attribute">expires_in</span>": <span class="hljs-value"><span class="hljs-number">3600</span></span>,
  "<span class="hljs-attribute">access_token</span>": <span class="hljs-value"><span class="hljs-string">"0987654321abcdef0987654321abcdef"</span></span>,
  "<span class="hljs-attribute">refresh_token</span>": <span class="hljs-value"><span class="hljs-string">"0987654321abcdef0987654321abcdef"</span>
</span>}</code></pre><div style="height: 1px;"></div><h5>Schema</h5><pre><code>{
  "<span class="hljs-attribute">$schema</span>": <span class="hljs-value"><span class="hljs-string">"http://json-schema.org/draft-04/schema#"</span></span>,
  "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
  "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">token_type</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"*ALWAYS* have the value `Bearer`"</span>
    </span>}</span>,
    "<span class="hljs-attribute">expires_in</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"number"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"number of seconds until the authorization expires."</span>
    </span>}</span>,
    "<span class="hljs-attribute">access_token</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"the authorization token."</span>
    </span>}</span>,
    "<span class="hljs-attribute">refresh_token</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"a token we can use in the future to refresh an authorization that is about to expire."</span>
    </span>}
  </span>}</span>,
  "<span class="hljs-attribute">required</span>": <span class="hljs-value">[
    <span class="hljs-string">"token_type"</span>,
    <span class="hljs-string">"expires_in"</span>,
    <span class="hljs-string">"access_token"</span>,
    <span class="hljs-string">"refresh_token"</span>
  ]
</span>}</code></pre><div style="height: 1px;"></div></div></div></div></div></section><section id="users" class="resource-group"><h2 class="group-heading">Users <a href="#users" class="permalink">&para;</a></h2><div id="users-users" class="resource"><h3 class="resource-heading">Users <a href="#users-users" class="permalink">&nbsp;&para;</a></h3><div id="users-users-get" class="action get"><h4 class="action-heading"><div class="name">Get User Information</div><a href="#users-users-get" class="method get">GET</a><code class="uri">/api/v2/user</code></h4><p>Retrieves the information of the authenticated user.</p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/api/v2/user</span></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span><br><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer YOUR_AUTH_TOKEN</span><br><span class="hljs-attribute">Accept-Language</span>: <span class="hljs-string">en</span></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">avatar_url</span>": <span class="hljs-value"><span class="hljs-string">"https://secure.gravatar.com/avatar/af276ab86f332e84bc3b0cfaee12b38b?r=pg&amp;s=80&amp;d=blank"</span></span>,
  "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"John"</span></span>,
  "<span class="hljs-attribute">surname</span>": <span class="hljs-value"><span class="hljs-string">"Doe"</span></span>,
  "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"john.doe@cabify.com"</span></span>,
  "<span class="hljs-attribute">mobile_cc</span>": <span class="hljs-value"><span class="hljs-string">"+34"</span></span>,
  "<span class="hljs-attribute">mobile_num</span>": <span class="hljs-value"><span class="hljs-string">"611111113"</span></span>,
  "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">"es-ES"</span>
</span>}</code></pre><div style="height: 1px;"></div><h5>Schema</h5><pre><code>{
  "<span class="hljs-attribute">$schema</span>": <span class="hljs-value"><span class="hljs-string">"http://json-schema.org/draft-04/schema#"</span></span>,
  "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
  "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">avatar_url</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"User avatar URL"</span>
    </span>}</span>,
    "<span class="hljs-attribute">name</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"User name"</span>
    </span>}</span>,
    "<span class="hljs-attribute">surname</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"User surname"</span>
    </span>}</span>,
    "<span class="hljs-attribute">email</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"User email"</span>
    </span>}</span>,
    "<span class="hljs-attribute">mobile_cc</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"User mobile number prefix"</span>
    </span>}</span>,
    "<span class="hljs-attribute">mobile_num</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"User mobile number prefix"</span>
    </span>}</span>,
    "<span class="hljs-attribute">locale</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"User locale"</span>
    </span>}
  </span>}
</span>}</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>401</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span></code></pre><div style="height: 1px;"></div></div></div></div></div></section><section id="estimates" class="resource-group"><h2 class="group-heading">Estimates <a href="#estimates" class="permalink">&para;</a></h2><div id="estimates-estimate-journeys" class="resource"><h3 class="resource-heading">Estimate Journeys <a href="#estimates-estimate-journeys" class="permalink">&nbsp;&para;</a></h3><div id="estimates-estimate-journeys-post" class="action post"><h4 class="action-heading"><div class="name">Get Estimates</div><a href="#estimates-estimate-journeys-post" class="method post">POST</a><code class="uri">/api/v2/estimate</code></h4><p>To get an estimate, start and end points need to be provided. If <code>start_at</code> time is provided, the journey will be considered as a <code>reserved</code> journey, reserved journeys needs to have a <code>start_at</code> some minutes in the future.</p>
<p>If you set the <code>start_at</code> attribute as <code>null</code> or ommit it, we will considered the current time as the <code>start_at</code> time and the journey <code>start_type</code> will be <code>asap</code>. In this case, each vehicle type will come with a new attribute called ETA. This attribute contains the information about the expected time (in seconds) a vehicle of that type will arrive. If the values of the attribute ETA are min:0 and max:999999, this means we aren’t able to predict the ETA for that vehicle type.</p>
<h4>Example URI</h4><div class="definition"><span class="method post">POST</span>&nbsp;<span class="uri"><span class="hostname"></span>/api/v2/estimate</span></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span><br><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer YOUR_AUTH_TOKEN</span><br><span class="hljs-attribute">Accept-Language</span>: <span class="hljs-string">en</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">stops</span>": <span class="hljs-value">[
    {
      "<span class="hljs-attribute">loc</span>": <span class="hljs-value">[
        <span class="hljs-number">40.4169473</span>,
        -<span class="hljs-number">3.7057172</span>
      ]</span>,
      "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Puerta del Sol"</span></span>,
      "<span class="hljs-attribute">addr</span>": <span class="hljs-value"><span class="hljs-string">"Plaza de la Puerta del Sol"</span></span>,
      "<span class="hljs-attribute">num</span>": <span class="hljs-value"><span class="hljs-string">"s/n"</span></span>,
      "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Madrid"</span></span>,
      "<span class="hljs-attribute">country</span>": <span class="hljs-value"><span class="hljs-string">"Spain"</span></span>,
      "<span class="hljs-attribute">instr</span>": <span class="hljs-value"><span class="hljs-string">"Hello, world!"</span></span>,
      "<span class="hljs-attribute">contact</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"John Doe"</span></span>,
        "<span class="hljs-attribute">mobile_cc</span>": <span class="hljs-value"><span class="hljs-string">"+34"</span></span>,
        "<span class="hljs-attribute">mobile_num</span>": <span class="hljs-value"><span class="hljs-string">"611111113"</span>
      </span>}
    </span>},
    {
      "<span class="hljs-attribute">loc</span>": <span class="hljs-value">[
        <span class="hljs-number">40.4169473</span>,
        -<span class="hljs-number">3.7057172</span>
      ]</span>,
      "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Puerta del Sol"</span></span>,
      "<span class="hljs-attribute">addr</span>": <span class="hljs-value"><span class="hljs-string">"Plaza de la Puerta del Sol"</span></span>,
      "<span class="hljs-attribute">num</span>": <span class="hljs-value"><span class="hljs-string">"s/n"</span></span>,
      "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Madrid"</span></span>,
      "<span class="hljs-attribute">country</span>": <span class="hljs-value"><span class="hljs-string">"Spain"</span></span>,
      "<span class="hljs-attribute">instr</span>": <span class="hljs-value"><span class="hljs-string">"Hello, world!"</span></span>,
      "<span class="hljs-attribute">contact</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"John Doe"</span></span>,
        "<span class="hljs-attribute">mobile_cc</span>": <span class="hljs-value"><span class="hljs-string">"+34"</span></span>,
        "<span class="hljs-attribute">mobile_num</span>": <span class="hljs-value"><span class="hljs-string">"611111113"</span>
      </span>}
    </span>}
  ]</span>,
  "<span class="hljs-attribute">start_at</span>": <span class="hljs-value"><span class="hljs-string">"2022-12-30 22:59"</span>
</span>}</code></pre><div style="height: 1px;"></div><h5>Schema</h5><pre><code>{
  "<span class="hljs-attribute">$schema</span>": <span class="hljs-value"><span class="hljs-string">"http://json-schema.org/draft-04/schema#"</span></span>,
  "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
  "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">stops</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"array"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"A 2-tuple with the pick up and drop off locations."</span>
    </span>}</span>,
    "<span class="hljs-attribute">start_at</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"The pick up datetime. It should follow the format: YYYY-MM-DD hh:mm. It should be in the local time of the pick up location."</span>
    </span>}
  </span>}</span>,
  "<span class="hljs-attribute">required</span>": <span class="hljs-value">[
    <span class="hljs-string">"stops"</span>,
    <span class="hljs-string">"start_at"</span>
  ]
</span>}</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Returns an array of <code>Estimate</code>s.</p>
<p>Some vehicle types, such as taxis, can not be estimated. In that case, the estimate will include the Vehicle Type details but the price-related fields will have null values (except when noted).</p>
</div><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json; charset=utf-8</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>[
  {
    "<span class="hljs-attribute">vehicle_type</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">_id</span>": <span class="hljs-value"><span class="hljs-string">"executive_id"</span></span>,
      "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Executive Class"</span></span>,
      "<span class="hljs-attribute">short_name</span>": <span class="hljs-value"><span class="hljs-string">"Executive"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"A very large vehicle with comfortable seats"</span></span>,
      "<span class="hljs-attribute">icons</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">regular</span>": <span class="hljs-value"><span class="hljs-string">"https://cabify.com/images/icons/vehicle_type/executive_27.png"</span>
      </span>}</span>,
      "<span class="hljs-attribute">icon</span>": <span class="hljs-value"><span class="hljs-string">"executive"</span>
    </span>}</span>,
    "<span class="hljs-attribute">total_price</span>": <span class="hljs-value"><span class="hljs-number">1234</span></span>,
    "<span class="hljs-attribute">price_formatted</span>": <span class="hljs-value"><span class="hljs-string">"12.34€"</span></span>,
    "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"EUR"</span></span>,
    "<span class="hljs-attribute">currency_symbol</span>": <span class="hljs-value"><span class="hljs-string">"€"</span></span>,
    "<span class="hljs-attribute">eta</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">min</span>": <span class="hljs-value"><span class="hljs-number">100</span></span>,
      "<span class="hljs-attribute">max</span>": <span class="hljs-value"><span class="hljs-number">1000</span></span>,
      "<span class="hljs-attribute">formatted</span>": <span class="hljs-value"><span class="hljs-string">"&gt;2 min"</span>
    </span>}
  </span>}
]</code></pre><div style="height: 1px;"></div><h5>Schema</h5><pre><code>{
  "<span class="hljs-attribute">$schema</span>": <span class="hljs-value"><span class="hljs-string">"http://json-schema.org/draft-04/schema#"</span></span>,
  "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"array"</span>
</span>}</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Request&nbsp;&nbsp;<code>Start point outside of Cabify regions</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>If we request an estimate from outside the places we operate, a 404 error is returned. In this example, the start stop is in the Atlantic Ocean.</p>
</div><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span><br><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer YOUR_AUTH_TOKEN</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">stops</span>": <span class="hljs-value">[
    {
      "<span class="hljs-attribute">loc</span>": <span class="hljs-value">[
        <span class="hljs-number">0.1</span>,
        <span class="hljs-number">0.1</span>
      ]
    </span>},
    {
      "<span class="hljs-attribute">loc</span>": <span class="hljs-value">[
        <span class="hljs-number">40.522751</span>,
        -<span class="hljs-number">3.890156</span>
      ]
    </span>}
  ]</span>,
  "<span class="hljs-attribute">start_at</span>": <span class="hljs-value"><span class="hljs-string">"2015-12-23 15:09"</span>
</span>}</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>404</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json; charset=utf-8</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">message</span>": <span class="hljs-value"><span class="hljs-string">"You provided incomplete information"</span></span>,
  "<span class="hljs-attribute">errors</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">some_attribute</span>": <span class="hljs-value">[
      <span class="hljs-string">"Hello, world!"</span>,
      <span class="hljs-string">"is too small"</span>,
      <span class="hljs-string">"needs to be odd"</span>
    ]</span>,
    "<span class="hljs-attribute">some_other</span>": <span class="hljs-value">[
      <span class="hljs-string">"Hello, world!"</span>,
      <span class="hljs-string">"is required"</span>
    ]
  </span>}
</span>}</code></pre><div style="height: 1px;"></div><h5>Schema</h5><pre><code>{
  "<span class="hljs-attribute">$schema</span>": <span class="hljs-value"><span class="hljs-string">"http://json-schema.org/draft-04/schema#"</span></span>,
  "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
  "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">message</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Error description"</span>
    </span>}</span>,
    "<span class="hljs-attribute">errors</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
      "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">some_attribute</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"array"</span>
        </span>}</span>,
        "<span class="hljs-attribute">some_other</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"array"</span>
        </span>}
      </span>}</span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Per field error information. Keys are field names, values are arrays of strings with error messages for the field."</span>
    </span>}
  </span>}</span>,
  "<span class="hljs-attribute">required</span>": <span class="hljs-value">[
    <span class="hljs-string">"message"</span>
  ]
</span>}</code></pre><div style="height: 1px;"></div></div></div></div></div></section><section id="bookings" class="resource-group"><h2 class="group-heading">Bookings <a href="#bookings" class="permalink">&para;</a></h2><p>This resource allows booking and management of a future journey.</p>
<div id="bookings-make-a-booking" class="resource"><h3 class="resource-heading">Make a booking <a href="#bookings-make-a-booking" class="permalink">&nbsp;&para;</a></h3><div id="bookings-make-a-booking-post" class="action post"><h4 class="action-heading"><div class="name">Make a booking</div><a href="#bookings-make-a-booking-post" class="method post">POST</a><code class="uri">/api/v2/journey</code></h4><p>This endpoint is meant to be used after receiving an estimate for a journey. The parameters used for the estimate can be reused and, additionally, the selector vehicle type needs to be provided.</p>
<p>It is also possible to book a Cabify without any previous estimate if you have been provided with a <code>vehicle_type_id</code>.</p>
<p>If you need to do a asap journey, you only need to set the <code>start_at</code> parameter as <code>null</code>, this will make we considered
the <code>start_at</code> as the current time and the <code>start_type</code> of the journey as <code>asap</code>.</p>
<p>Additionally, in order to allow cross-referencing of Cabify journeys and any internal system used by API clients, the optional property <code>charge_code</code> can be used. It will not be interpreted by Cabify, but will be present in the invoices (contact your sales representative if you need it to be required and/or follow some format).</p>
<p><strong>Cabify Delivery Service</strong></p>
<p>Cabify also offers a delivery service which you can use through the API. To use the delivery service you should make a booking using a vehicle type called <code>delivery</code> or <code>cabify express</code>. In the case the journey is <code>delivery</code> it will have the <code>service_type</code> attribute with value <code>delivery</code>, in other case the value of this attribute will be <code>standard</code>. Besides, you should fill the stop contact attributes (name, mobile_cc, mobile_num) which you can see in the request body of this request.</p>
<h4>Example URI</h4><div class="definition"><span class="method post">POST</span>&nbsp;<span class="uri"><span class="hostname"></span>/api/v2/journey</span></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span><br><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer YOUR_AUTH_TOKEN</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">stops</span>": <span class="hljs-value">[
    {
      "<span class="hljs-attribute">loc</span>": <span class="hljs-value">[
        <span class="hljs-number">40.4169473</span>,
        -<span class="hljs-number">3.7057172</span>
      ]</span>,
      "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Puerta del Sol"</span></span>,
      "<span class="hljs-attribute">addr</span>": <span class="hljs-value"><span class="hljs-string">"Plaza de la Puerta del Sol"</span></span>,
      "<span class="hljs-attribute">num</span>": <span class="hljs-value"><span class="hljs-string">"s/n"</span></span>,
      "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Madrid"</span></span>,
      "<span class="hljs-attribute">country</span>": <span class="hljs-value"><span class="hljs-string">"Spain"</span></span>,
      "<span class="hljs-attribute">instr</span>": <span class="hljs-value"><span class="hljs-string">"Hello, world!"</span></span>,
      "<span class="hljs-attribute">contact</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"John Doe"</span></span>,
        "<span class="hljs-attribute">mobile_cc</span>": <span class="hljs-value"><span class="hljs-string">"+34"</span></span>,
        "<span class="hljs-attribute">mobile_num</span>": <span class="hljs-value"><span class="hljs-string">"611111113"</span>
      </span>}
    </span>},
    {
      "<span class="hljs-attribute">loc</span>": <span class="hljs-value">[
        <span class="hljs-number">40.4169473</span>,
        -<span class="hljs-number">3.7057172</span>
      ]</span>,
      "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Puerta del Sol"</span></span>,
      "<span class="hljs-attribute">addr</span>": <span class="hljs-value"><span class="hljs-string">"Plaza de la Puerta del Sol"</span></span>,
      "<span class="hljs-attribute">num</span>": <span class="hljs-value"><span class="hljs-string">"s/n"</span></span>,
      "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Madrid"</span></span>,
      "<span class="hljs-attribute">country</span>": <span class="hljs-value"><span class="hljs-string">"Spain"</span></span>,
      "<span class="hljs-attribute">instr</span>": <span class="hljs-value"><span class="hljs-string">"Hello, world!"</span></span>,
      "<span class="hljs-attribute">contact</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"John Doe"</span></span>,
        "<span class="hljs-attribute">mobile_cc</span>": <span class="hljs-value"><span class="hljs-string">"+34"</span></span>,
        "<span class="hljs-attribute">mobile_num</span>": <span class="hljs-value"><span class="hljs-string">"611111113"</span>
      </span>}
    </span>}
  ]</span>,
  "<span class="hljs-attribute">start_at</span>": <span class="hljs-value"><span class="hljs-string">"2022-12-30 22:59"</span></span>,
  "<span class="hljs-attribute">vehicle_type_id</span>": <span class="hljs-value"><span class="hljs-string">"executive_id"</span></span>,
  "<span class="hljs-attribute">charge_code</span>": <span class="hljs-value"><span class="hljs-string">"TAR987-654"</span></span>,
  "<span class="hljs-attribute">rider</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"John Doe"</span></span>,
    "<span class="hljs-attribute">phone_prefix</span>": <span class="hljs-value"><span class="hljs-string">"+34"</span></span>,
    "<span class="hljs-attribute">phone_number</span>": <span class="hljs-value"><span class="hljs-string">"555-1234"</span></span>,
    "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"jdoe@example.com"</span></span>,
    "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">"en"</span>
  </span>}</span>,
  "<span class="hljs-attribute">message</span>": <span class="hljs-value"><span class="hljs-string">"Pick up at the red building next to the supermarket"</span>
</span>}</code></pre><div style="height: 1px;"></div><h5>Schema</h5><pre><code>{
  "<span class="hljs-attribute">$schema</span>": <span class="hljs-value"><span class="hljs-string">"http://json-schema.org/draft-04/schema#"</span></span>,
  "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
  "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">stops</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"array"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"An array with the pick up location (required) and drop off location (optional)."</span>
    </span>}</span>,
    "<span class="hljs-attribute">start_at</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"The pick up datetime. It should follow the format: YYYY-MM-DD hh:mm. It should be in the local time of the pick up location."</span>
    </span>}</span>,
    "<span class="hljs-attribute">vehicle_type_id</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"The unique identifier of the selected vehicle type, as returned by the estimator."</span>
    </span>}</span>,
    "<span class="hljs-attribute">charge_code</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"An optional code that will be displayed in the invoices generated by Cabify. Can be used to cross-reference the booking to internal data (such as a flight number reference, client id, etc…)."</span>
    </span>}</span>,
    "<span class="hljs-attribute">rider</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
      "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">name</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Rider name"</span>
        </span>}</span>,
        "<span class="hljs-attribute">phone_prefix</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Country prefix for the rider's phone number"</span>
        </span>}</span>,
        "<span class="hljs-attribute">phone_number</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Rider's phone number"</span>
        </span>}</span>,
        "<span class="hljs-attribute">email</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Rider's contact email"</span>
        </span>}</span>,
        "<span class="hljs-attribute">locale</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Rider's locale. Used to generate the sms messages we send to the rider."</span>
        </span>}
      </span>}</span>,
      "<span class="hljs-attribute">required</span>": <span class="hljs-value">[
        <span class="hljs-string">"name"</span>
      ]</span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Optional information and contact details for the rider. Will allow the driver to contact her in case of any issues with the booking."</span>
    </span>}</span>,
    "<span class="hljs-attribute">message</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"An optional string providing some useful information for the driver."</span>
    </span>}
  </span>}</span>,
  "<span class="hljs-attribute">required</span>": <span class="hljs-value">[
    <span class="hljs-string">"stops"</span>,
    <span class="hljs-string">"start_at"</span>,
    <span class="hljs-string">"vehicle_type_id"</span>,
    <span class="hljs-string">"rider"</span>
  ]
</span>}</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json; charset=utf-8</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">_id</span>": <span class="hljs-value"><span class="hljs-string">"booking_id"</span>
</span>}</code></pre><div style="height: 1px;"></div><h5>Schema</h5><pre><code>{
  "<span class="hljs-attribute">$schema</span>": <span class="hljs-value"><span class="hljs-string">"http://json-schema.org/draft-04/schema#"</span></span>,
  "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
  "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">_id</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"The unique id assigned to this booking."</span>
    </span>}
  </span>}</span>,
  "<span class="hljs-attribute">required</span>": <span class="hljs-value">[
    <span class="hljs-string">"_id"</span>
  ]
</span>}</code></pre><div style="height: 1px;"></div></div></div></div></div><div id="bookings-retrieve-booking-information" class="resource"><h3 class="resource-heading">Retrieve booking information <a href="#bookings-retrieve-booking-information" class="permalink">&nbsp;&para;</a></h3><div id="bookings-retrieve-booking-information-get" class="action get"><h4 class="action-heading"><div class="name">Retrieve booking information</div><a href="#bookings-retrieve-booking-information-get" class="method get">GET</a><code class="uri">/api/v2/journey/{id}</code></h4><p>For most uses, the (booking state)[#bookings-booking-state-get] is preferred.</p>
<p>Use this endpoint to retrieve the full information about a booking, such as pricing or the initially provided information when making a booking.</p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/api/v2/journey/<span class="hljs-attribute" title="id">0987654321abcdef0987654321abcdef</span></span></div><div class="title"><strong>URI Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>id</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>0987654321abcdef0987654321abcdef</span></span><p>the id corresponding to the journey to be retrieved. Access controls will be aplied to ensure that the authenticated user can access the journey</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span><br><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer YOUR_AUTH_TOKEN</span></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json; charset=utf-8</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">stops</span>": <span class="hljs-value">[
    {
      "<span class="hljs-attribute">loc</span>": <span class="hljs-value">[
        <span class="hljs-number">40.4169473</span>,
        -<span class="hljs-number">3.7057172</span>
      ]</span>,
      "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Puerta del Sol"</span></span>,
      "<span class="hljs-attribute">addr</span>": <span class="hljs-value"><span class="hljs-string">"Plaza de la Puerta del Sol"</span></span>,
      "<span class="hljs-attribute">num</span>": <span class="hljs-value"><span class="hljs-string">"s/n"</span></span>,
      "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Madrid"</span></span>,
      "<span class="hljs-attribute">country</span>": <span class="hljs-value"><span class="hljs-string">"Spain"</span></span>,
      "<span class="hljs-attribute">instr</span>": <span class="hljs-value"><span class="hljs-string">"Hello, world!"</span></span>,
      "<span class="hljs-attribute">contact</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"John Doe"</span></span>,
        "<span class="hljs-attribute">mobile_cc</span>": <span class="hljs-value"><span class="hljs-string">"+34"</span></span>,
        "<span class="hljs-attribute">mobile_num</span>": <span class="hljs-value"><span class="hljs-string">"611111113"</span>
      </span>}</span>,
      "<span class="hljs-attribute">hit_at</span>": <span class="hljs-value"><span class="hljs-string">"2022-12-30 22:59"</span>
    </span>},
    {
      "<span class="hljs-attribute">loc</span>": <span class="hljs-value">[
        <span class="hljs-number">40.4169473</span>,
        -<span class="hljs-number">3.7057172</span>
      ]</span>,
      "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Puerta del Sol"</span></span>,
      "<span class="hljs-attribute">addr</span>": <span class="hljs-value"><span class="hljs-string">"Plaza de la Puerta del Sol"</span></span>,
      "<span class="hljs-attribute">num</span>": <span class="hljs-value"><span class="hljs-string">"s/n"</span></span>,
      "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Madrid"</span></span>,
      "<span class="hljs-attribute">country</span>": <span class="hljs-value"><span class="hljs-string">"Spain"</span></span>,
      "<span class="hljs-attribute">instr</span>": <span class="hljs-value"><span class="hljs-string">"Hello, world!"</span></span>,
      "<span class="hljs-attribute">contact</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"John Doe"</span></span>,
        "<span class="hljs-attribute">mobile_cc</span>": <span class="hljs-value"><span class="hljs-string">"+34"</span></span>,
        "<span class="hljs-attribute">mobile_num</span>": <span class="hljs-value"><span class="hljs-string">"611111113"</span>
      </span>}</span>,
      "<span class="hljs-attribute">hit_at</span>": <span class="hljs-value"><span class="hljs-string">"2022-12-30 22:59"</span>
    </span>}
  ]</span>,
  "<span class="hljs-attribute">start_at</span>": <span class="hljs-value"><span class="hljs-string">"2022-12-30T21:59:00.000Z"</span></span>,
  "<span class="hljs-attribute">vehicle_type_id</span>": <span class="hljs-value"><span class="hljs-string">"executive_id"</span></span>,
  "<span class="hljs-attribute">service_type</span>": <span class="hljs-value"><span class="hljs-string">"standard"</span></span>,
  "<span class="hljs-attribute">rider</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"John Doe"</span></span>,
    "<span class="hljs-attribute">phone_prefix</span>": <span class="hljs-value"><span class="hljs-string">"+34"</span></span>,
    "<span class="hljs-attribute">phone_number</span>": <span class="hljs-value"><span class="hljs-string">"555-1234"</span></span>,
    "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"jdoe@example.com"</span></span>,
    "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">"en"</span>
  </span>}</span>,
  "<span class="hljs-attribute">message</span>": <span class="hljs-value"><span class="hljs-string">"Pick up at the red building next to the supermarket"</span></span>,
  "<span class="hljs-attribute">state</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">journey_id</span>": <span class="hljs-value"><span class="hljs-string">"0987654321abcdef0987654321abcdef"</span></span>,
    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"reserve"</span></span>,
    "<span class="hljs-attribute">loc</span>": <span class="hljs-value">[
      <span class="hljs-number">40.345041</span>,
      -<span class="hljs-number">1.1185173</span>
    ]</span>,
    "<span class="hljs-attribute">driver</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"0987654321abcdef0987654321abcdef"</span></span>,
      "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Martín"</span></span>,
      "<span class="hljs-attribute">surname</span>": <span class="hljs-value"><span class="hljs-string">"de la Cuadra"</span></span>,
      "<span class="hljs-attribute">mobile</span>": <span class="hljs-value"><span class="hljs-string">"555-1234"</span></span>,
      "<span class="hljs-attribute">score</span>": <span class="hljs-value"><span class="hljs-number">4.8</span></span>,
      "<span class="hljs-attribute">avatar_url</span>": <span class="hljs-value"><span class="hljs-string">"https://cabify.com/drivers/123"</span>
    </span>}</span>,
    "<span class="hljs-attribute">vehicle</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">reg_plate</span>": <span class="hljs-value"><span class="hljs-string">"1234CDF"</span></span>,
      "<span class="hljs-attribute">color</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">code</span>": <span class="hljs-value"><span class="hljs-string">"white"</span></span>,
        "<span class="hljs-attribute">rgb</span>": <span class="hljs-value"><span class="hljs-string">"FFFFFF"</span>
      </span>}</span>,
      "<span class="hljs-attribute">model</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">make</span>": <span class="hljs-value"><span class="hljs-string">"Ford"</span></span>,
        "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"Focus"</span></span>,
        "<span class="hljs-attribute">brand_icon</span>": <span class="hljs-value"><span class="hljs-string">"https://cabify.com/vehicles/make/ford.png"</span>
      </span>}
    </span>}
  </span>}</span>,
  "<span class="hljs-attribute">distance</span>": <span class="hljs-value"><span class="hljs-number">10000</span></span>,
  "<span class="hljs-attribute">duration</span>": <span class="hljs-value"><span class="hljs-number">600</span></span>,
  "<span class="hljs-attribute">moving</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
  "<span class="hljs-attribute">stopped</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
  "<span class="hljs-attribute">public_url</span>": <span class="hljs-value"><span class="hljs-string">"url of a public page from where the user can be follow the status of the journey"</span></span>,
  "<span class="hljs-attribute">prices</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">price_base</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">amount</span>": <span class="hljs-value"><span class="hljs-number">2095</span></span>,
      "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"EUR"</span></span>,
      "<span class="hljs-attribute">currency_symbol</span>": <span class="hljs-value"><span class="hljs-string">"€"</span></span>,
      "<span class="hljs-attribute">formatted</span>": <span class="hljs-value"><span class="hljs-string">"20.95 €"</span>
    </span>}</span>,
    "<span class="hljs-attribute">price_extra</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">amount</span>": <span class="hljs-value"><span class="hljs-number">2095</span></span>,
      "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"EUR"</span></span>,
      "<span class="hljs-attribute">currency_symbol</span>": <span class="hljs-value"><span class="hljs-string">"€"</span></span>,
      "<span class="hljs-attribute">formatted</span>": <span class="hljs-value"><span class="hljs-string">"20.95 €"</span>
    </span>}</span>,
    "<span class="hljs-attribute">price</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">amount</span>": <span class="hljs-value"><span class="hljs-number">2095</span></span>,
      "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"EUR"</span></span>,
      "<span class="hljs-attribute">currency_symbol</span>": <span class="hljs-value"><span class="hljs-string">"€"</span></span>,
      "<span class="hljs-attribute">formatted</span>": <span class="hljs-value"><span class="hljs-string">"20.95 €"</span>
    </span>}</span>,
    "<span class="hljs-attribute">discount</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">amount</span>": <span class="hljs-value"><span class="hljs-number">2095</span></span>,
      "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"EUR"</span></span>,
      "<span class="hljs-attribute">currency_symbol</span>": <span class="hljs-value"><span class="hljs-string">"€"</span></span>,
      "<span class="hljs-attribute">formatted</span>": <span class="hljs-value"><span class="hljs-string">"20.95 €"</span>
    </span>}</span>,
    "<span class="hljs-attribute">total</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">amount</span>": <span class="hljs-value"><span class="hljs-number">2095</span></span>,
      "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"EUR"</span></span>,
      "<span class="hljs-attribute">currency_symbol</span>": <span class="hljs-value"><span class="hljs-string">"€"</span></span>,
      "<span class="hljs-attribute">formatted</span>": <span class="hljs-value"><span class="hljs-string">"20.95 €"</span>
    </span>}
  </span>}
</span>}</code></pre><div style="height: 1px;"></div><h5>Schema</h5><pre><code>{
  "<span class="hljs-attribute">$schema</span>": <span class="hljs-value"><span class="hljs-string">"http://json-schema.org/draft-04/schema#"</span></span>,
  "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
  "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">stops</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"array"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"An array with the pick up, pauses and drop off locations."</span>
    </span>}</span>,
    "<span class="hljs-attribute">start_at</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"the UTC start at date in the ISO 8601 format `YYYY-MM-DDThh:mm:ss.sTZD`."</span>
    </span>}</span>,
    "<span class="hljs-attribute">vehicle_type_id</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"The unique identifier of the selected vehicle type, as returned by the estimator."</span>
    </span>}</span>,
    "<span class="hljs-attribute">service_type</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Service type of the journey. It can be standard or delivery."</span>
    </span>}</span>,
    "<span class="hljs-attribute">rider</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
      "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">name</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Rider name"</span>
        </span>}</span>,
        "<span class="hljs-attribute">phone_prefix</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Country prefix for the rider's phone number"</span>
        </span>}</span>,
        "<span class="hljs-attribute">phone_number</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Rider's phone number"</span>
        </span>}</span>,
        "<span class="hljs-attribute">email</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Rider's contact email"</span>
        </span>}</span>,
        "<span class="hljs-attribute">locale</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Rider's locale. Used to generate the sms messages we send to the rider."</span>
        </span>}
      </span>}</span>,
      "<span class="hljs-attribute">required</span>": <span class="hljs-value">[
        <span class="hljs-string">"name"</span>
      ]</span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Optional information and contact details for the rider. Will allow the driver to contact her in case of any issues with the booking."</span>
    </span>}</span>,
    "<span class="hljs-attribute">message</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"An optional string providing some useful information for the driver."</span>
    </span>}</span>,
    "<span class="hljs-attribute">state</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
      "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">journey_id</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"id of the Journey which the state belongs"</span>
        </span>}</span>,
        "<span class="hljs-attribute">name</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">enum</span>": <span class="hljs-value">[
            <span class="hljs-string">"reserve"</span>,
            <span class="hljs-string">"hire"</span>,
            <span class="hljs-string">"hired"</span>,
            <span class="hljs-string">"arrived"</span>,
            <span class="hljs-string">"pick up"</span>,
            <span class="hljs-string">"drop off"</span>,
            <span class="hljs-string">"terminated"</span>,
            <span class="hljs-string">"no show"</span>,
            <span class="hljs-string">"not found"</span>,
            <span class="hljs-string">"missed"</span>,
            <span class="hljs-string">"rejected"</span>,
            <span class="hljs-string">"rider cancel"</span>,
            <span class="hljs-string">"driver cancel"</span>,
            <span class="hljs-string">"timeout"</span>
          ]
        </span>}</span>,
        "<span class="hljs-attribute">loc</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"array"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"the Cabify position at the time of the update"</span>
        </span>}</span>,
        "<span class="hljs-attribute">driver</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
          "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">id</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"id of the Driver."</span>
            </span>}</span>,
            "<span class="hljs-attribute">name</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"driver's given name."</span>
            </span>}</span>,
            "<span class="hljs-attribute">surname</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"driver's family name."</span>
            </span>}</span>,
            "<span class="hljs-attribute">mobile</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"the driver's phone number."</span>
            </span>}</span>,
            "<span class="hljs-attribute">score</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"number"</span></span>,
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"average driver rating in a 0 (awful) to 5 (perfect) range."</span>
            </span>}</span>,
            "<span class="hljs-attribute">avatar_url</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"the url to the driver picture at 80x80 pixels."</span>
            </span>}
          </span>}</span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"information about the driver"</span>
        </span>}</span>,
        "<span class="hljs-attribute">vehicle</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
          "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">reg_plate</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"vehicle's registration plate number"</span>
            </span>}</span>,
            "<span class="hljs-attribute">color</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
              "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">code</span>": <span class="hljs-value">{
                  "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
                  "<span class="hljs-attribute">enum</span>": <span class="hljs-value">[
                    <span class="hljs-string">"white"</span>,
                    <span class="hljs-string">"silver"</span>,
                    <span class="hljs-string">"gray"</span>,
                    <span class="hljs-string">"black"</span>,
                    <span class="hljs-string">"red"</span>,
                    <span class="hljs-string">"maroon"</span>,
                    <span class="hljs-string">"yellow"</span>,
                    <span class="hljs-string">"olive"</span>,
                    <span class="hljs-string">"lime"</span>,
                    <span class="hljs-string">"green"</span>,
                    <span class="hljs-string">"aqua"</span>,
                    <span class="hljs-string">"teal"</span>,
                    <span class="hljs-string">"blue"</span>,
                    <span class="hljs-string">"navy"</span>,
                    <span class="hljs-string">"fuchsia"</span>,
                    <span class="hljs-string">"purple"</span>,
                    <span class="hljs-string">"orange"</span>,
                    <span class="hljs-string">"gold"</span>
                  ]</span>,
                  "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"color code"</span>
                </span>}</span>,
                "<span class="hljs-attribute">rgb</span>": <span class="hljs-value">{
                  "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
                  "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"suggested rgb color to represent the given code"</span>
                </span>}
              </span>}</span>,
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"the vehicle color"</span>
            </span>}</span>,
            "<span class="hljs-attribute">model</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
              "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">make</span>": <span class="hljs-value">{
                  "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
                  "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Make name"</span>
                </span>}</span>,
                "<span class="hljs-attribute">model</span>": <span class="hljs-value">{
                  "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
                  "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Model name"</span>
                </span>}</span>,
                "<span class="hljs-attribute">brand_icon</span>": <span class="hljs-value">{
                  "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
                  "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"url to the make icon, a 200x200 png image."</span>
                </span>}
              </span>}
            </span>}
          </span>}</span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"information about the vehicle"</span>
        </span>}
      </span>}
    </span>}</span>,
    "<span class="hljs-attribute">distance</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"number"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Distance travelled in meters"</span>
    </span>}</span>,
    "<span class="hljs-attribute">duration</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"number"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Journey time in seconds from arrival to drop off"</span>
    </span>}</span>,
    "<span class="hljs-attribute">moving</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"number"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Distance moved over threshold speed"</span>
    </span>}</span>,
    "<span class="hljs-attribute">stopped</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"number"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Time stopped under threshold speed"</span>
    </span>}</span>,
    "<span class="hljs-attribute">public_url</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span>
    </span>}</span>,
    "<span class="hljs-attribute">prices</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
      "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">price_base</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
          "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">amount</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"number"</span>
            </span>}</span>,
            "<span class="hljs-attribute">currency</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span>
            </span>}</span>,
            "<span class="hljs-attribute">currency_symbol</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span>
            </span>}</span>,
            "<span class="hljs-attribute">formatted</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span>
            </span>}
          </span>}</span>,
          "<span class="hljs-attribute">required</span>": <span class="hljs-value">[
            <span class="hljs-string">"amount"</span>,
            <span class="hljs-string">"currency"</span>,
            <span class="hljs-string">"currency_symbol"</span>,
            <span class="hljs-string">"formatted"</span>
          ]</span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"The price by distance and waiting time or the minimun price."</span>
        </span>}</span>,
        "<span class="hljs-attribute">price_extra</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
          "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">amount</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"number"</span>
            </span>}</span>,
            "<span class="hljs-attribute">currency</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span>
            </span>}</span>,
            "<span class="hljs-attribute">currency_symbol</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span>
            </span>}</span>,
            "<span class="hljs-attribute">formatted</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span>
            </span>}
          </span>}</span>,
          "<span class="hljs-attribute">required</span>": <span class="hljs-value">[
            <span class="hljs-string">"amount"</span>,
            <span class="hljs-string">"currency"</span>,
            <span class="hljs-string">"currency_symbol"</span>,
            <span class="hljs-string">"formatted"</span>
          ]</span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"The additional price: toll, parking..."</span>
        </span>}</span>,
        "<span class="hljs-attribute">price</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
          "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">amount</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"number"</span>
            </span>}</span>,
            "<span class="hljs-attribute">currency</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span>
            </span>}</span>,
            "<span class="hljs-attribute">currency_symbol</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span>
            </span>}</span>,
            "<span class="hljs-attribute">formatted</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span>
            </span>}
          </span>}</span>,
          "<span class="hljs-attribute">required</span>": <span class="hljs-value">[
            <span class="hljs-string">"amount"</span>,
            <span class="hljs-string">"currency"</span>,
            <span class="hljs-string">"currency_symbol"</span>,
            <span class="hljs-string">"formatted"</span>
          ]</span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"The sum of price_base and price_extra."</span>
        </span>}</span>,
        "<span class="hljs-attribute">discount</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
          "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">amount</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"number"</span>
            </span>}</span>,
            "<span class="hljs-attribute">currency</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span>
            </span>}</span>,
            "<span class="hljs-attribute">currency_symbol</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span>
            </span>}</span>,
            "<span class="hljs-attribute">formatted</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span>
            </span>}
          </span>}</span>,
          "<span class="hljs-attribute">required</span>": <span class="hljs-value">[
            <span class="hljs-string">"amount"</span>,
            <span class="hljs-string">"currency"</span>,
            <span class="hljs-string">"currency_symbol"</span>,
            <span class="hljs-string">"formatted"</span>
          ]</span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"The discount applied in the booking (vouchers, special zones or balances for the user)."</span>
        </span>}</span>,
        "<span class="hljs-attribute">total</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
          "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">amount</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"number"</span>
            </span>}</span>,
            "<span class="hljs-attribute">currency</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span>
            </span>}</span>,
            "<span class="hljs-attribute">currency_symbol</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span>
            </span>}</span>,
            "<span class="hljs-attribute">formatted</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span>
            </span>}
          </span>}</span>,
          "<span class="hljs-attribute">required</span>": <span class="hljs-value">[
            <span class="hljs-string">"amount"</span>,
            <span class="hljs-string">"currency"</span>,
            <span class="hljs-string">"currency_symbol"</span>,
            <span class="hljs-string">"formatted"</span>
          ]</span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"The subtraction between price and discount."</span>
        </span>}
      </span>}</span>,
      "<span class="hljs-attribute">required</span>": <span class="hljs-value">[
        <span class="hljs-string">"price_base"</span>,
        <span class="hljs-string">"price"</span>,
        <span class="hljs-string">"total"</span>
      ]
    </span>}
  </span>}</span>,
  "<span class="hljs-attribute">required</span>": <span class="hljs-value">[
    <span class="hljs-string">"stops"</span>,
    <span class="hljs-string">"start_at"</span>,
    <span class="hljs-string">"vehicle_type_id"</span>,
    <span class="hljs-string">"rider"</span>,
    <span class="hljs-string">"state"</span>
  ]
</span>}</code></pre><div style="height: 1px;"></div></div></div></div></div></section><section id="booking-state" class="resource-group"><h2 class="group-heading">Booking State <a href="#booking-state" class="permalink">&para;</a></h2><p>Every journey have a state which track in what point of the ride is it.</p>
<ul>
<li>
<p><code>reserve</code> - Journey is reserved</p>
</li>
<li>
<p><code>hire</code> - Journey is searching for a driver</p>
</li>
<li>
<p><code>hired</code> - Journey has been assigned a driver</p>
</li>
<li>
<p><code>arrived</code> - Car is at the pick up point</p>
</li>
<li>
<p><code>pick up</code> - The rider is on the car</p>
</li>
<li>
<p><code>drop off</code> - Sent by the driver to indicate that they have arrived.</p>
</li>
<li>
<p><code>terminated</code> - Journey has been successfully terminated and requires no further action.</p>
</li>
<li>
<p><code>no show</code> - Journey cancelled because the rider did not show at the pick up point</p>
</li>
<li>
<p><code>not found</code> - No drivers have been found to perform the journey.</p>
</li>
<li>
<p><code>missed</code> - A driver doesn’t accept the journey.</p>
</li>
<li>
<p><code>rejected</code> - The driver clicked the reject button for journey.</p>
</li>
<li>
<p><code>rider cancel</code> - Journey cancelled by request of the API</p>
</li>
<li>
<p><code>driver cancel</code> - Journey cancelled by request of the driver or Cabify admin</p>
</li>
<li>
<p><code>timeout</code> - Ongoing journey without recent information from the driver (typically on tunnels)</p>
</li>
</ul>
<div id="booking-state-cancel-booking" class="resource"><h3 class="resource-heading">Cancel booking <a href="#booking-state-cancel-booking" class="permalink">&nbsp;&para;</a></h3><div id="booking-state-cancel-booking-post" class="action post"><h4 class="action-heading"><div class="name">Cancel booking</div><a href="#booking-state-cancel-booking-post" class="method post">POST</a><code class="uri">/api/v2/journey/{id}/state</code></h4><p>Any previously booked journey can be canceled using its <code>_id</code> field, as long as:</p>
<ul>
<li>
<p>The journey has not started yet</p>
</li>
<li>
<p>It has been created by the same API user</p>
</li>
</ul>
<h4>Example URI</h4><div class="definition"><span class="method post">POST</span>&nbsp;<span class="uri"><span class="hostname"></span>/api/v2/journey/<span class="hljs-attribute" title="id">0987654321abcdef0987654321abcdef</span>/state</span></div><div class="title"><strong>URI Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>id</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>0987654321abcdef0987654321abcdef</span></span><p>the id corresponding to the journey that is to be canceled. It must be in the future and owned by the API user identified by the oauth token.</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Changes the booking state to the provided name.</p>
</div><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span><br><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer YOUR_AUTH_TOKEN</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"rider cancel"</span>
</span>}</code></pre><div style="height: 1px;"></div><h5>Schema</h5><pre><code>{
  "<span class="hljs-attribute">$schema</span>": <span class="hljs-value"><span class="hljs-string">"http://json-schema.org/draft-04/schema#"</span></span>,
  "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
  "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">name</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">enum</span>": <span class="hljs-value">[
        <span class="hljs-string">"rider cancel"</span>
      ]
    </span>}
  </span>}</span>,
  "<span class="hljs-attribute">required</span>": <span class="hljs-value">[
    <span class="hljs-string">"name"</span>
  ]
</span>}</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json; charset=utf-8</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">journey_id</span>": <span class="hljs-value"><span class="hljs-string">"0987654321abcdef0987654321abcdef"</span></span>,
  "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"reserve"</span></span>,
  "<span class="hljs-attribute">loc</span>": <span class="hljs-value">[
    <span class="hljs-number">40.345041</span>,
    -<span class="hljs-number">1.1185173</span>
  ]</span>,
  "<span class="hljs-attribute">driver</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"0987654321abcdef0987654321abcdef"</span></span>,
    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Martín"</span></span>,
    "<span class="hljs-attribute">surname</span>": <span class="hljs-value"><span class="hljs-string">"de la Cuadra"</span></span>,
    "<span class="hljs-attribute">mobile</span>": <span class="hljs-value"><span class="hljs-string">"555-1234"</span></span>,
    "<span class="hljs-attribute">score</span>": <span class="hljs-value"><span class="hljs-number">4.8</span></span>,
    "<span class="hljs-attribute">avatar_url</span>": <span class="hljs-value"><span class="hljs-string">"https://cabify.com/drivers/123"</span>
  </span>}</span>,
  "<span class="hljs-attribute">vehicle</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">reg_plate</span>": <span class="hljs-value"><span class="hljs-string">"1234CDF"</span></span>,
    "<span class="hljs-attribute">color</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">code</span>": <span class="hljs-value"><span class="hljs-string">"white"</span></span>,
      "<span class="hljs-attribute">rgb</span>": <span class="hljs-value"><span class="hljs-string">"FFFFFF"</span>
    </span>}</span>,
    "<span class="hljs-attribute">model</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">make</span>": <span class="hljs-value"><span class="hljs-string">"Ford"</span></span>,
      "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"Focus"</span></span>,
      "<span class="hljs-attribute">brand_icon</span>": <span class="hljs-value"><span class="hljs-string">"https://cabify.com/vehicles/make/ford.png"</span>
    </span>}
  </span>}
</span>}</code></pre><div style="height: 1px;"></div><h5>Schema</h5><pre><code>{
  "<span class="hljs-attribute">$schema</span>": <span class="hljs-value"><span class="hljs-string">"http://json-schema.org/draft-04/schema#"</span></span>,
  "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
  "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">journey_id</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"id of the Journey which the state belongs"</span>
    </span>}</span>,
    "<span class="hljs-attribute">name</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">enum</span>": <span class="hljs-value">[
        <span class="hljs-string">"reserve"</span>,
        <span class="hljs-string">"hire"</span>,
        <span class="hljs-string">"hired"</span>,
        <span class="hljs-string">"arrived"</span>,
        <span class="hljs-string">"pick up"</span>,
        <span class="hljs-string">"drop off"</span>,
        <span class="hljs-string">"terminated"</span>,
        <span class="hljs-string">"no show"</span>,
        <span class="hljs-string">"not found"</span>,
        <span class="hljs-string">"missed"</span>,
        <span class="hljs-string">"rejected"</span>,
        <span class="hljs-string">"rider cancel"</span>,
        <span class="hljs-string">"driver cancel"</span>,
        <span class="hljs-string">"timeout"</span>
      ]
    </span>}</span>,
    "<span class="hljs-attribute">loc</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"array"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"the Cabify position at the time of the update"</span>
    </span>}</span>,
    "<span class="hljs-attribute">driver</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
      "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">id</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"id of the Driver."</span>
        </span>}</span>,
        "<span class="hljs-attribute">name</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"driver's given name."</span>
        </span>}</span>,
        "<span class="hljs-attribute">surname</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"driver's family name."</span>
        </span>}</span>,
        "<span class="hljs-attribute">mobile</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"the driver's phone number."</span>
        </span>}</span>,
        "<span class="hljs-attribute">score</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"number"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"average driver rating in a 0 (awful) to 5 (perfect) range."</span>
        </span>}</span>,
        "<span class="hljs-attribute">avatar_url</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"the url to the driver picture at 80x80 pixels."</span>
        </span>}
      </span>}</span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"information about the driver"</span>
    </span>}</span>,
    "<span class="hljs-attribute">vehicle</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
      "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">reg_plate</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"vehicle's registration plate number"</span>
        </span>}</span>,
        "<span class="hljs-attribute">color</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
          "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">code</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
              "<span class="hljs-attribute">enum</span>": <span class="hljs-value">[
                <span class="hljs-string">"white"</span>,
                <span class="hljs-string">"silver"</span>,
                <span class="hljs-string">"gray"</span>,
                <span class="hljs-string">"black"</span>,
                <span class="hljs-string">"red"</span>,
                <span class="hljs-string">"maroon"</span>,
                <span class="hljs-string">"yellow"</span>,
                <span class="hljs-string">"olive"</span>,
                <span class="hljs-string">"lime"</span>,
                <span class="hljs-string">"green"</span>,
                <span class="hljs-string">"aqua"</span>,
                <span class="hljs-string">"teal"</span>,
                <span class="hljs-string">"blue"</span>,
                <span class="hljs-string">"navy"</span>,
                <span class="hljs-string">"fuchsia"</span>,
                <span class="hljs-string">"purple"</span>,
                <span class="hljs-string">"orange"</span>,
                <span class="hljs-string">"gold"</span>
              ]</span>,
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"color code"</span>
            </span>}</span>,
            "<span class="hljs-attribute">rgb</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"suggested rgb color to represent the given code"</span>
            </span>}
          </span>}</span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"the vehicle color"</span>
        </span>}</span>,
        "<span class="hljs-attribute">model</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
          "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">make</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Make name"</span>
            </span>}</span>,
            "<span class="hljs-attribute">model</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Model name"</span>
            </span>}</span>,
            "<span class="hljs-attribute">brand_icon</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"url to the make icon, a 200x200 png image."</span>
            </span>}
          </span>}
        </span>}
      </span>}</span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"information about the vehicle"</span>
    </span>}
  </span>}
</span>}</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Request&nbsp;&nbsp;<code>with invalid state name</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span><br><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer YOUR_AUTH_TOKEN</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"invalid"</span>
</span>}</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>400</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json; charset=utf-8</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">message</span>": <span class="hljs-value"><span class="hljs-string">"You provided incomplete information"</span></span>,
  "<span class="hljs-attribute">errors</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">some_attribute</span>": <span class="hljs-value">[
      <span class="hljs-string">"Hello, world!"</span>,
      <span class="hljs-string">"is too small"</span>,
      <span class="hljs-string">"needs to be odd"</span>
    ]</span>,
    "<span class="hljs-attribute">some_other</span>": <span class="hljs-value">[
      <span class="hljs-string">"Hello, world!"</span>,
      <span class="hljs-string">"is required"</span>
    ]
  </span>}
</span>}</code></pre><div style="height: 1px;"></div><h5>Schema</h5><pre><code>{
  "<span class="hljs-attribute">$schema</span>": <span class="hljs-value"><span class="hljs-string">"http://json-schema.org/draft-04/schema#"</span></span>,
  "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
  "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">message</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Error description"</span>
    </span>}</span>,
    "<span class="hljs-attribute">errors</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
      "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">some_attribute</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"array"</span>
        </span>}</span>,
        "<span class="hljs-attribute">some_other</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"array"</span>
        </span>}
      </span>}</span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Per field error information. Keys are field names, values are arrays of strings with error messages for the field."</span>
    </span>}
  </span>}</span>,
  "<span class="hljs-attribute">required</span>": <span class="hljs-value">[
    <span class="hljs-string">"message"</span>
  ]
</span>}</code></pre><div style="height: 1px;"></div></div></div></div></div><div id="booking-state-check-booking-state" class="resource"><h3 class="resource-heading">Check booking state <a href="#booking-state-check-booking-state" class="permalink">&nbsp;&para;</a></h3><div id="booking-state-check-booking-state-get" class="action get"><h4 class="action-heading"><div class="name">Check booking state</div><a href="#booking-state-check-booking-state-get" class="method get">GET</a><code class="uri">/api/v2/journey/{id}/state</code></h4><h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/api/v2/journey/<span class="hljs-attribute" title="id">0987654321abcdef0987654321abcdef</span>/state</span></div><div class="title"><strong>URI Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>id</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>0987654321abcdef0987654321abcdef</span></span><p>the id of the journey whose state is to be checked.</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span><br><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer YOUR_AUTH_TOKEN</span></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json; charset=utf-8</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">journey_id</span>": <span class="hljs-value"><span class="hljs-string">"0987654321abcdef0987654321abcdef"</span></span>,
  "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"reserve"</span></span>,
  "<span class="hljs-attribute">loc</span>": <span class="hljs-value">[
    <span class="hljs-number">40.345041</span>,
    -<span class="hljs-number">1.1185173</span>
  ]</span>,
  "<span class="hljs-attribute">driver</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"0987654321abcdef0987654321abcdef"</span></span>,
    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Martín"</span></span>,
    "<span class="hljs-attribute">surname</span>": <span class="hljs-value"><span class="hljs-string">"de la Cuadra"</span></span>,
    "<span class="hljs-attribute">mobile</span>": <span class="hljs-value"><span class="hljs-string">"555-1234"</span></span>,
    "<span class="hljs-attribute">score</span>": <span class="hljs-value"><span class="hljs-number">4.8</span></span>,
    "<span class="hljs-attribute">avatar_url</span>": <span class="hljs-value"><span class="hljs-string">"https://cabify.com/drivers/123"</span>
  </span>}</span>,
  "<span class="hljs-attribute">vehicle</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">reg_plate</span>": <span class="hljs-value"><span class="hljs-string">"1234CDF"</span></span>,
    "<span class="hljs-attribute">color</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">code</span>": <span class="hljs-value"><span class="hljs-string">"white"</span></span>,
      "<span class="hljs-attribute">rgb</span>": <span class="hljs-value"><span class="hljs-string">"FFFFFF"</span>
    </span>}</span>,
    "<span class="hljs-attribute">model</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">make</span>": <span class="hljs-value"><span class="hljs-string">"Ford"</span></span>,
      "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"Focus"</span></span>,
      "<span class="hljs-attribute">brand_icon</span>": <span class="hljs-value"><span class="hljs-string">"https://cabify.com/vehicles/make/ford.png"</span>
    </span>}
  </span>}
</span>}</code></pre><div style="height: 1px;"></div><h5>Schema</h5><pre><code>{
  "<span class="hljs-attribute">$schema</span>": <span class="hljs-value"><span class="hljs-string">"http://json-schema.org/draft-04/schema#"</span></span>,
  "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
  "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">journey_id</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"id of the Journey which the state belongs"</span>
    </span>}</span>,
    "<span class="hljs-attribute">name</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
      "<span class="hljs-attribute">enum</span>": <span class="hljs-value">[
        <span class="hljs-string">"reserve"</span>,
        <span class="hljs-string">"hire"</span>,
        <span class="hljs-string">"hired"</span>,
        <span class="hljs-string">"arrived"</span>,
        <span class="hljs-string">"pick up"</span>,
        <span class="hljs-string">"drop off"</span>,
        <span class="hljs-string">"terminated"</span>,
        <span class="hljs-string">"no show"</span>,
        <span class="hljs-string">"not found"</span>,
        <span class="hljs-string">"missed"</span>,
        <span class="hljs-string">"rejected"</span>,
        <span class="hljs-string">"rider cancel"</span>,
        <span class="hljs-string">"driver cancel"</span>,
        <span class="hljs-string">"timeout"</span>
      ]
    </span>}</span>,
    "<span class="hljs-attribute">loc</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"array"</span></span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"the Cabify position at the time of the update"</span>
    </span>}</span>,
    "<span class="hljs-attribute">driver</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
      "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">id</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"id of the Driver."</span>
        </span>}</span>,
        "<span class="hljs-attribute">name</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"driver's given name."</span>
        </span>}</span>,
        "<span class="hljs-attribute">surname</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"driver's family name."</span>
        </span>}</span>,
        "<span class="hljs-attribute">mobile</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"the driver's phone number."</span>
        </span>}</span>,
        "<span class="hljs-attribute">score</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"number"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"average driver rating in a 0 (awful) to 5 (perfect) range."</span>
        </span>}</span>,
        "<span class="hljs-attribute">avatar_url</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"the url to the driver picture at 80x80 pixels."</span>
        </span>}
      </span>}</span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"information about the driver"</span>
    </span>}</span>,
    "<span class="hljs-attribute">vehicle</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
      "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">reg_plate</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"vehicle's registration plate number"</span>
        </span>}</span>,
        "<span class="hljs-attribute">color</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
          "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">code</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
              "<span class="hljs-attribute">enum</span>": <span class="hljs-value">[
                <span class="hljs-string">"white"</span>,
                <span class="hljs-string">"silver"</span>,
                <span class="hljs-string">"gray"</span>,
                <span class="hljs-string">"black"</span>,
                <span class="hljs-string">"red"</span>,
                <span class="hljs-string">"maroon"</span>,
                <span class="hljs-string">"yellow"</span>,
                <span class="hljs-string">"olive"</span>,
                <span class="hljs-string">"lime"</span>,
                <span class="hljs-string">"green"</span>,
                <span class="hljs-string">"aqua"</span>,
                <span class="hljs-string">"teal"</span>,
                <span class="hljs-string">"blue"</span>,
                <span class="hljs-string">"navy"</span>,
                <span class="hljs-string">"fuchsia"</span>,
                <span class="hljs-string">"purple"</span>,
                <span class="hljs-string">"orange"</span>,
                <span class="hljs-string">"gold"</span>
              ]</span>,
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"color code"</span>
            </span>}</span>,
            "<span class="hljs-attribute">rgb</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"suggested rgb color to represent the given code"</span>
            </span>}
          </span>}</span>,
          "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"the vehicle color"</span>
        </span>}</span>,
        "<span class="hljs-attribute">model</span>": <span class="hljs-value">{
          "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"object"</span></span>,
          "<span class="hljs-attribute">properties</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">make</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Make name"</span>
            </span>}</span>,
            "<span class="hljs-attribute">model</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Model name"</span>
            </span>}</span>,
            "<span class="hljs-attribute">brand_icon</span>": <span class="hljs-value">{
              "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"string"</span></span>,
              "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"url to the make icon, a 200x200 png image."</span>
            </span>}
          </span>}
        </span>}
      </span>}</span>,
      "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"information about the vehicle"</span>
    </span>}
  </span>}
</span>}</code></pre><div style="height: 1px;"></div></div></div></div></div></section><section id="webhooks" class="resource-group"><h2 class="group-heading">Webhooks <a href="#webhooks" class="permalink">&para;</a></h2><h3 id="header-booking-status-updates">Booking status updates <a class="permalink" href="#header-booking-status-updates" aria-hidden="true">¶</a></h3>
<p>Booking status changes can be notified through a webhook. At the moment, you can configure the URL where the URL will be <code>POST</code>ing the updates by contacting customer support.</p>
<p>The given URL will be invoked with the webhook url sending the same information as the [Check booking status] response but using <code>x-www-form-urlencoded</code> format.</p>
</section><section id="mobile-deeplink" class="resource-group"><h2 class="group-heading">Mobile Deeplink <a href="#mobile-deeplink" class="permalink">&para;</a></h2><p>App supports deeplinking via URL’s that start with cabify:///. Keep in mind that even though all json parameters in the examples are plain strings for simplicity, you should pass them URL-Encoded.</p>
<h2 id="header-introduction">Introduction <a class="permalink" href="#header-introduction" aria-hidden="true">¶</a></h2>
<p>This section provides specification for all available deeplinks in our Cabify App (Android and iOS).
The URL’s should start with <code>cabify://cabify</code>. Keep in mind that even though all JSON parameters in the examples are plain strings for simplicity, <strong>you should pass them URL-Encoded</strong>.</p>
<div id="mobile-deeplink-start-asap" class="resource"><h3 class="resource-heading">Start ASAP <a href="#mobile-deeplink-start-asap" class="permalink">&nbsp;&para;</a></h3><div id="mobile-deeplink-start-asap-get" class="action get"><h4 class="action-heading"><div class="name">Start ASAP</div><a href="#mobile-deeplink-start-asap-get" class="method get">GET</a><code class="uri">/journey{?json}</code></h4><p>App opens with all provided journey info, ready to order your Cabify.</p>
<p>Note that:</p>
<ul>
<li>
<p><strong>vehicle_type</strong> is the id of the vehicle you want for your journey. You must retrieve first the available list of vehicles for a given location to be sure that vehicle is available in your zone . If no vehicle_type is provided, app defaults to the last one picked by the user, or the first available one in his zone.</p>
</li>
<li>
<p><strong>stops</strong> must be an array of stops in json format. For each stop you must provide latitude, and longitude fields, and optionally, a name field (which will be displayed instead of the address). Each stop must be placed in order, meaning first and last stop represent origin and destination respectively.</p>
</li>
</ul>
<p><u>You can also set the first stop as the string “current”, in which case the app will grab the user location and use that as origin</u></p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/journey?<span class="hljs-attribute">json=</span><span class="hljs-literal">{ "vehicle_type":"c52ce29f50438491f8d6e55d5259dd40", "stops":[ { "loc":{ "latitude":40.3979288915956, "longitude":-3.70257262140512 }, "name":"Goiko Grill" }, { "loc":{ "latitude":40.697, "longitude":-3.90257262140512 } } ] }</span></span></div><div class="title"><strong>URI Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>json</dt><dd><code>url-encoded string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>{ &quot;vehicle_type&quot;:&quot;c52ce29f50438491f8d6e55d5259dd40&quot;, &quot;stops&quot;:[ { &quot;loc&quot;:{ &quot;latitude&quot;:40.3979288915956, &quot;longitude&quot;:-3.70257262140512 }, &quot;name&quot;:&quot;Goiko Grill&quot; }, { &quot;loc&quot;:{ &quot;latitude&quot;:40.697, &quot;longitude&quot;:-3.90257262140512 } } ] }</span></span><p>The journey data in json format. It should be URL encoded.</p>
</dd></dl></div></div></div><div id="mobile-deeplink-start-reservation" class="resource"><h3 class="resource-heading">Start Reservation <a href="#mobile-deeplink-start-reservation" class="permalink">&nbsp;&para;</a></h3><div id="mobile-deeplink-start-reservation-get" class="action get"><h4 class="action-heading"><div class="name">Start Reservation</div><a href="#mobile-deeplink-start-reservation-get" class="method get">GET</a><code class="uri">/journey{?json}</code></h4><p>App opens with all provided journey info, ready to make a reservation for your Cabify. All params are identical to ASAP, except we include the start_at field.</p>
<p>Note that:</p>
<ul>
<li>
<p><strong>vehicle_type</strong> is the id of the vehicle you want for your journey. You must retrieve first the available list of vehicles for a given location to be sure that vehicle is available in your zone . If no <strong>vehicle_type</strong> is provided, app defaults to the last one picked by the user.</p>
</li>
<li>
<p><strong>stops</strong> must be an array of stops in json format. For each stop you must provide latitude, and longitude fields, and optionally, a name field (which will be displayed instead of the address). Each stop must be placed in order, meaning first and last stop represent origin and destination respectively. You can also set the first stop as the string “current”, in which case the app will grab the user location and use that as origin.</p>
</li>
<li>
<p><strong>start_at</strong> indicates we want a reservation with that start date. Date format must be<code>yyyy-MM-dd HH:mm</code>, and represents the pick up date and time, in the time zone where the journey will happen.</p>
</li>
</ul>
<p><u>You can also set the first stop as the string “current”, in which case the app will grab the user location and use that as origin</u></p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/journey?<span class="hljs-attribute">json=</span><span class="hljs-literal">{ "vehicle_type":"c52ce29f50438491f8d6e55d5259dd40", "stops":[ { "loc":{ "latitude":40.3979288915956, "longitude":-3.70257262140512 }, "name":"Goiko Grill" }, { "loc":{ "latitude":40.697, "longitude":-3.90257262140512 } } ], "start_at":"2016-06-19 5:15" }</span></span></div><div class="title"><strong>URI Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>json</dt><dd><code>url-encoded string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>{ &quot;vehicle_type&quot;:&quot;c52ce29f50438491f8d6e55d5259dd40&quot;, &quot;stops&quot;:[ { &quot;loc&quot;:{ &quot;latitude&quot;:40.3979288915956, &quot;longitude&quot;:-3.70257262140512 }, &quot;name&quot;:&quot;Goiko Grill&quot; }, { &quot;loc&quot;:{ &quot;latitude&quot;:40.697, &quot;longitude&quot;:-3.90257262140512 } } ], &quot;start_at&quot;:&quot;2016-06-19 5:15&quot; }</span></span><p>The journey data in json format. It should be URL encoded.</p>
</dd></dl></div></div></div><div id="mobile-deeplink-open-active-journey" class="resource"><h3 class="resource-heading">Open Active Journey <a href="#mobile-deeplink-open-active-journey" class="permalink">&nbsp;&para;</a></h3><div id="mobile-deeplink-open-active-journey-get" class="action get"><h4 class="action-heading"><div class="name">Open Active Journey</div><a href="#mobile-deeplink-open-active-journey-get" class="method get">GET</a><code class="uri">/journey/{id}</code></h4><p>App opens a current ongoing journey.</p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/journey/<span class="hljs-attribute" title="id">d111cac336514580bb400cfc431698e1</span></span></div><div class="title"><strong>URI Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>id</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>d111cac336514580bb400cfc431698e1</span></span></dd></dl></div></div></div><div id="mobile-deeplink-open-a-reservation" class="resource"><h3 class="resource-heading">Open a Reservation <a href="#mobile-deeplink-open-a-reservation" class="permalink">&nbsp;&para;</a></h3><div id="mobile-deeplink-open-a-reservation-get" class="action get"><h4 class="action-heading"><div class="name">Open a Reservation</div><a href="#mobile-deeplink-open-a-reservation-get" class="method get">GET</a><code class="uri">/journey/reservation/id</code></h4><p>Open an already created reservation</p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/journey/reservation/id</span></div></div></div><div id="mobile-deeplink-open-reserve-screen" class="resource"><h3 class="resource-heading">Open Reserve Screen <a href="#mobile-deeplink-open-reserve-screen" class="permalink">&nbsp;&para;</a></h3><div id="mobile-deeplink-open-reserve-screen-get" class="action get"><h4 class="action-heading"><div class="name">Open Reserve Screen</div><a href="#mobile-deeplink-open-reserve-screen-get" class="method get">GET</a><code class="uri">/journey/reserve</code></h4><p>Open a screen to start creating a reservation</p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/journey/reserve</span></div></div></div><div id="mobile-deeplink-current-reservations" class="resource"><h3 class="resource-heading">Current Reservations <a href="#mobile-deeplink-current-reservations" class="permalink">&nbsp;&para;</a></h3><div id="mobile-deeplink-current-reservations-get" class="action get"><h4 class="action-heading"><div class="name">Current Reservations</div><a href="#mobile-deeplink-current-reservations-get" class="method get">GET</a><code class="uri">/journey/reservations</code></h4><p>Open list of current reservations</p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/journey/reservations</span></div></div></div><div id="mobile-deeplink-previous-journeys" class="resource"><h3 class="resource-heading">Previous journeys <a href="#mobile-deeplink-previous-journeys" class="permalink">&nbsp;&para;</a></h3><div id="mobile-deeplink-previous-journeys-get" class="action get"><h4 class="action-heading"><div class="name">Previous journeys</div><a href="#mobile-deeplink-previous-journeys-get" class="method get">GET</a><code class="uri">/journeys/previous</code></h4><p>Open list of previous journeys</p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/journeys/previous</span></div></div></div><div id="mobile-deeplink-previous-journey" class="resource"><h3 class="resource-heading">Previous Journey <a href="#mobile-deeplink-previous-journey" class="permalink">&nbsp;&para;</a></h3><div id="mobile-deeplink-previous-journey-get" class="action get"><h4 class="action-heading"><div class="name">Previous Journey</div><a href="#mobile-deeplink-previous-journey-get" class="method get">GET</a><code class="uri">/journeys/previous/{id}</code></h4><p>Open a given previous journey details screen</p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/journeys/previous/<span class="hljs-attribute" title="id">d111cac336514580bb400cfc431698e1</span></span></div><div class="title"><strong>URI Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>id</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>d111cac336514580bb400cfc431698e1</span></span></dd></dl></div></div></div><div id="mobile-deeplink-promotions" class="resource"><h3 class="resource-heading">Promotions <a href="#mobile-deeplink-promotions" class="permalink">&nbsp;&para;</a></h3><div id="mobile-deeplink-promotions-get" class="action get"><h4 class="action-heading"><div class="name">Promotions</div><a href="#mobile-deeplink-promotions-get" class="method get">GET</a><code class="uri">/promotions</code></h4><p>Open promotions screen</p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/promotions</span></div></div></div><div id="mobile-deeplink-apply-promocode" class="resource"><h3 class="resource-heading">Apply Promocode <a href="#mobile-deeplink-apply-promocode" class="permalink">&nbsp;&para;</a></h3><div id="mobile-deeplink-apply-promocode-get" class="action get"><h4 class="action-heading"><div class="name">Apply Promocode</div><a href="#mobile-deeplink-apply-promocode-get" class="method get">GET</a><code class="uri">/promotions{?promocode}</code></h4><p>Open promotions screen, with all fields ready to apply a promocode</p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/promotions?<span class="hljs-attribute">promocode=</span><span class="hljs-literal">PROMO</span></span></div><div class="title"><strong>URI Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>promocode</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>PROMO</span></span></dd></dl></div></div></div><div id="mobile-deeplink-locations" class="resource"><h3 class="resource-heading">Locations <a href="#mobile-deeplink-locations" class="permalink">&nbsp;&para;</a></h3><div id="mobile-deeplink-locations-get" class="action get"><h4 class="action-heading"><div class="name">Locations</div><a href="#mobile-deeplink-locations-get" class="method get">GET</a><code class="uri">/locations</code></h4><p>Open list of user custom locations screen</p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/locations</span></div></div></div><div id="mobile-deeplink-location" class="resource"><h3 class="resource-heading">Location <a href="#mobile-deeplink-location" class="permalink">&nbsp;&para;</a></h3><div id="mobile-deeplink-location-get" class="action get"><h4 class="action-heading"><div class="name">Location</div><a href="#mobile-deeplink-location-get" class="method get">GET</a><code class="uri">/location/{?id}</code></h4><p>Open a given user location screen, ready to edit it</p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/location/?<span class="hljs-attribute">id=</span><span class="hljs-literal">c12d7175756797d1c2e99bab9d93ca61</span></span></div><div class="title"><strong>URI Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>id</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>c12d7175756797d1c2e99bab9d93ca61</span></span></dd></dl></div></div></div><div id="mobile-deeplink-preferences" class="resource"><h3 class="resource-heading">Preferences <a href="#mobile-deeplink-preferences" class="permalink">&nbsp;&para;</a></h3><div id="mobile-deeplink-preferences-get" class="action get"><h4 class="action-heading"><div class="name">Preferences</div><a href="#mobile-deeplink-preferences-get" class="method get">GET</a><code class="uri">/preferences</code></h4><p>Open user’s preferences screen</p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/preferences</span></div></div></div><div id="mobile-deeplink-payment-methods" class="resource"><h3 class="resource-heading">Payment Methods <a href="#mobile-deeplink-payment-methods" class="permalink">&nbsp;&para;</a></h3><div id="mobile-deeplink-payment-methods-get" class="action get"><h4 class="action-heading"><div class="name">Payment Methods</div><a href="#mobile-deeplink-payment-methods-get" class="method get">GET</a><code class="uri">/payment_methods</code></h4><p>Open user’s payment methods screen</p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/payment_methods</span></div></div></div><div id="mobile-deeplink-profile" class="resource"><h3 class="resource-heading">Profile <a href="#mobile-deeplink-profile" class="permalink">&nbsp;&para;</a></h3><div id="mobile-deeplink-profile-get" class="action get"><h4 class="action-heading"><div class="name">Profile</div><a href="#mobile-deeplink-profile-get" class="method get">GET</a><code class="uri">/profile</code></h4><p>Open user’s profile screen</p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/profile</span></div></div></div><div id="mobile-deeplink-help" class="resource"><h3 class="resource-heading">Help <a href="#mobile-deeplink-help" class="permalink">&nbsp;&para;</a></h3><div id="mobile-deeplink-help-get" class="action get"><h4 class="action-heading"><div class="name">Help</div><a href="#mobile-deeplink-help-get" class="method get">GET</a><code class="uri">/contact</code></h4><p>Open the help center screen</p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/contact</span></div></div></div><div id="mobile-deeplink-pricing" class="resource"><h3 class="resource-heading">Pricing <a href="#mobile-deeplink-pricing" class="permalink">&nbsp;&para;</a></h3><div id="mobile-deeplink-pricing-get" class="action get"><h4 class="action-heading"><div class="name">Pricing</div><a href="#mobile-deeplink-pricing-get" class="method get">GET</a><code class="uri">/pricing</code></h4><p>Open pricing screen</p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/pricing</span></div></div></div><div id="mobile-deeplink-invite-friends" class="resource"><h3 class="resource-heading">Invite friends <a href="#mobile-deeplink-invite-friends" class="permalink">&nbsp;&para;</a></h3><div id="mobile-deeplink-invite-friends-get" class="action get"><h4 class="action-heading"><div class="name">Invite friends</div><a href="#mobile-deeplink-invite-friends-get" class="method get">GET</a><code class="uri">/invite_your_friends</code></h4><p>Open invite your friends screen</p>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/invite_your_friends</span></div></div></div></section></div></div></div><p style="text-align: center;" class="text-muted">Generated by&nbsp;<a href="https://github.com/danielgtaylor/aglio" class="aglio">aglio</a>&nbsp;on 27 Jul 2017</p><script>/* eslint-env browser */
/* eslint quotes: [2, "single"] */
'use strict';

/*
  Determine if a string ends with another string.
*/
function endsWith(str, suffix) {
    return str.indexOf(suffix, str.length - suffix.length) !== -1;
}

/*
  Get a list of direct child elements by class name.
*/
function childrenByClass(element, name) {
  var filtered = [];

  for (var i = 0; i < element.children.length; i++) {
    var child = element.children[i];
    var classNames = child.className.split(' ');
    if (classNames.indexOf(name) !== -1) {
      filtered.push(child);
    }
  }

  return filtered;
}

/*
  Get an array [width, height] of the window.
*/
function getWindowDimensions() {
  var w = window,
      d = document,
      e = d.documentElement,
      g = d.body,
      x = w.innerWidth || e.clientWidth || g.clientWidth,
      y = w.innerHeight || e.clientHeight || g.clientHeight;

  return [x, y];
}

/*
  Collapse or show a request/response example.
*/
function toggleCollapseButton(event) {
    var button = event.target.parentNode;
    var content = button.parentNode.nextSibling;
    var inner = content.children[0];

    if (button.className.indexOf('collapse-button') === -1) {
      // Clicked without hitting the right element?
      return;
    }

    if (content.style.maxHeight && content.style.maxHeight !== '0px') {
        // Currently showing, so let's hide it
        button.className = 'collapse-button';
        content.style.maxHeight = '0px';
    } else {
        // Currently hidden, so let's show it
        button.className = 'collapse-button show';
        content.style.maxHeight = inner.offsetHeight + 12 + 'px';
    }
}

function toggleTabButton(event) {
    var i, index;
    var button = event.target;

    // Get index of the current button.
    var buttons = childrenByClass(button.parentNode, 'tab-button');
    for (i = 0; i < buttons.length; i++) {
        if (buttons[i] === button) {
            index = i;
            button.className = 'tab-button active';
        } else {
            buttons[i].className = 'tab-button';
        }
    }

    // Hide other tabs and show this one.
    var tabs = childrenByClass(button.parentNode.parentNode, 'tab');
    for (i = 0; i < tabs.length; i++) {
        if (i === index) {
            tabs[i].style.display = 'block';
        } else {
            tabs[i].style.display = 'none';
        }
    }
}

/*
  Collapse or show a navigation menu. It will not be hidden unless it
  is currently selected or `force` has been passed.
*/
function toggleCollapseNav(event, force) {
    var heading = event.target.parentNode;
    var content = heading.nextSibling;
    var inner = content.children[0];

    if (heading.className.indexOf('heading') === -1) {
      // Clicked without hitting the right element?
      return;
    }

    if (content.style.maxHeight && content.style.maxHeight !== '0px') {
      // Currently showing, so let's hide it, but only if this nav item
      // is already selected. This prevents newly selected items from
      // collapsing in an annoying fashion.
      if (force || window.location.hash && endsWith(event.target.href, window.location.hash)) {
        content.style.maxHeight = '0px';
      }
    } else {
      // Currently hidden, so let's show it
      content.style.maxHeight = inner.offsetHeight + 12 + 'px';
    }
}

/*
  Refresh the page after a live update from the server. This only
  works in live preview mode (using the `--server` parameter).
*/
function refresh(body) {
    document.querySelector('body').className = 'preload';
    document.body.innerHTML = body;

    // Re-initialize the page
    init();
    autoCollapse();

    document.querySelector('body').className = '';
}

/*
  Determine which navigation items should be auto-collapsed to show as many
  as possible on the screen, based on the current window height. This also
  collapses them.
*/
function autoCollapse() {
  var windowHeight = getWindowDimensions()[1];
  var itemsHeight = 64; /* Account for some padding */
  var itemsArray = Array.prototype.slice.call(
    document.querySelectorAll('nav .resource-group .heading'));

  // Get the total height of the navigation items
  itemsArray.forEach(function (item) {
    itemsHeight += item.parentNode.offsetHeight;
  });

  // Should we auto-collapse any nav items? Try to find the smallest item
  // that can be collapsed to show all items on the screen. If not possible,
  // then collapse the largest item and do it again. First, sort the items
  // by height from smallest to largest.
  var sortedItems = itemsArray.sort(function (a, b) {
    return a.parentNode.offsetHeight - b.parentNode.offsetHeight;
  });

  while (sortedItems.length && itemsHeight > windowHeight) {
    for (var i = 0; i < sortedItems.length; i++) {
      // Will collapsing this item help?
      var itemHeight = sortedItems[i].nextSibling.offsetHeight;
      if ((itemsHeight - itemHeight <= windowHeight) || i === sortedItems.length - 1) {
        // It will, so let's collapse it, remove its content height from
        // our total and then remove it from our list of candidates
        // that can be collapsed.
        itemsHeight -= itemHeight;
        toggleCollapseNav({target: sortedItems[i].children[0]}, true);
        sortedItems.splice(i, 1);
        break;
      }
    }
  }
}

/*
  Initialize the interactive functionality of the page.
*/
function init() {
    var i, j;

    // Make collapse buttons clickable
    var buttons = document.querySelectorAll('.collapse-button');
    for (i = 0; i < buttons.length; i++) {
        buttons[i].onclick = toggleCollapseButton;

        // Show by default? Then toggle now.
        if (buttons[i].className.indexOf('show') !== -1) {
            toggleCollapseButton({target: buttons[i].children[0]});
        }
    }

    var responseCodes = document.querySelectorAll('.example-names');
    for (i = 0; i < responseCodes.length; i++) {
        var tabButtons = childrenByClass(responseCodes[i], 'tab-button');
        for (j = 0; j < tabButtons.length; j++) {
            tabButtons[j].onclick = toggleTabButton;

            // Show by default?
            if (j === 0) {
                toggleTabButton({target: tabButtons[j]});
            }
        }
    }

    // Make nav items clickable to collapse/expand their content.
    var navItems = document.querySelectorAll('nav .resource-group .heading');
    for (i = 0; i < navItems.length; i++) {
        navItems[i].onclick = toggleCollapseNav;

        // Show all by default
        toggleCollapseNav({target: navItems[i].children[0]});
    }
}

// Initial call to set up buttons
init();

window.onload = function () {
    autoCollapse();
    // Remove the `preload` class to enable animations
    document.querySelector('body').className = '';
};
</script></body></html>